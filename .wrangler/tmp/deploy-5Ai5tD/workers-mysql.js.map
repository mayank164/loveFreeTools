{
  "version": 3,
  "sources": ["../../../server/workers-mysql.js"],
  "sourceRoot": "C:\\Users\\chen\\Documents\\freeEmail\\.wrangler\\tmp\\deploy-5Ai5tD",
  "sourcesContent": ["/**\n * Cloudflare Email Worker - MySQL \u7248\u672C\n * \n * \u4E0E\u539F KV \u7248\u672C\u529F\u80FD\u5B8C\u5168\u4E00\u81F4\uFF0C\u53EA\u662F\u5B58\u50A8\u6539\u4E3A MySQL API \u540E\u7AEF\n * \n * \u90E8\u7F72\u8BF4\u660E\uFF1A\n * 1. \u5728 Cloudflare Workers \u4E2D\u521B\u5EFA\u65B0 Worker\n * 2. \u590D\u5236\u6B64\u4EE3\u7801\u5230 Worker\n * 3. \u8BBE\u7F6E\u73AF\u5883\u53D8\u91CF\uFF1A\n *    - API_BASE: MySQL API \u540E\u7AEF\u5730\u5740 (\u5982 http://35.220.142.223:3001)\n *    - ADMIN_KEY: \u7BA1\u7406\u5458\u5BC6\u94A5\uFF08\u53EF\u9009\uFF09\n * 4. \u5728\u57DF\u540D\u8BBE\u7F6E\u4E2D\u542F\u7528 Email Routing\n * 5. \u6DFB\u52A0 Catch-all \u89C4\u5219\uFF0C\u5C06\u6240\u6709\u90AE\u4EF6\u53D1\u9001\u5230\u6B64 Worker\n * \n * \u6CE8\u610F\uFF1A\u4E0D\u518D\u9700\u8981\u7ED1\u5B9A KV \u547D\u540D\u7A7A\u95F4\n */\n\n// API \u540E\u7AEF\u5730\u5740\uFF08\u9700\u8981\u5728 Worker \u73AF\u5883\u53D8\u91CF\u4E2D\u8BBE\u7F6E\uFF09\nconst getApiBase = (env) => {\n  if (env && env.API_BASE) return env.API_BASE;\n  if (typeof API_BASE !== 'undefined') return API_BASE;\n  return 'http://35.220.142.223:3001'; // \u9ED8\u8BA4\u503C\n};\n\n// \u83B7\u53D6\u7BA1\u7406\u5458\u5BC6\u94A5\nconst getAdminKey = (env) => {\n  if (env && env.ADMIN_KEY) return env.ADMIN_KEY;\n  if (typeof ADMIN_KEY !== 'undefined') return ADMIN_KEY;\n  return '';\n};\n\n// ==================== AI \u670D\u52A1\u6A21\u5757 ====================\n// \u4F7F\u7528 Cloudflare Workers AI \u63D0\u4F9B\u667A\u80FD\u5206\u6790\u529F\u80FD\n// \u9700\u8981\u5728 Cloudflare Dashboard \u4E2D\u542F\u7528 Workers AI\n\nconst AIService = {\n  // AI \u6A21\u578B\u914D\u7F6E\n  MODEL: '@cf/meta/llama-3-8b-instruct',\n  \n  // AI \u529F\u80FD\u5F00\u5173\uFF08\u53EF\u901A\u8FC7\u73AF\u5883\u53D8\u91CF\u63A7\u5236\uFF09\n  isEnabled: () => {\n    if (typeof AI_ENABLED !== 'undefined') return AI_ENABLED === 'true';\n    return true; // \u9ED8\u8BA4\u542F\u7528\n  },\n  \n  // ModelScope \u5907\u7528 API \u914D\u7F6E\n  MODELSCOPE_API: 'https://api-inference.modelscope.cn/v1/chat/completions',\n  MODELSCOPE_MODEL: 'deepseek-ai/DeepSeek-V3.2',\n  \n  /**\n   * \u8C03\u7528 ModelScope API\uFF08\u5907\u7528\uFF09\n   * @param {object} env - Worker \u73AF\u5883\u5BF9\u8C61\n   * @param {string} prompt - \u63D0\u793A\u8BCD\n   * @returns {Promise<string>} AI \u54CD\u5E94\n   */\n  async callModelScope(env, prompt) {\n    const apiKey = env.MODELSCOPE_KEY || 'ms-7c9a95a1-bbfe-4011-8eba-11162b1dd120';\n    \n    try {\n      console.log('[ModelScope] Calling API...');\n      const response = await fetch(this.MODELSCOPE_API, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${apiKey}`\n        },\n        body: JSON.stringify({\n          model: this.MODELSCOPE_MODEL,\n          messages: [\n            { role: 'system', content: '\u4F60\u662F\u4E00\u4E2A\u4E13\u4E1A\u7684\u90AE\u4EF6\u5206\u6790\u52A9\u624B\u3002\u8BF7\u6839\u636E\u8981\u6C42\u7B80\u6D01\u51C6\u786E\u5730\u56DE\u7B54\uFF0C\u53EA\u8F93\u51FA\u7ED3\u679C\uFF0C\u4E0D\u8981\u89E3\u91CA\u3002' },\n            { role: 'user', content: prompt }\n          ],\n          max_tokens: 500,\n          stream: false\n        })\n      });\n      \n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('[ModelScope] API error:', response.status, errorText.substring(0, 200));\n        return null;\n      }\n      \n      const data = await response.json();\n      const result = data.choices?.[0]?.message?.content || '';\n      console.log('[ModelScope] Success, response length:', result.length);\n      return result;\n    } catch (error) {\n      console.error('[ModelScope] Call failed:', error.message);\n      return null;\n    }\n  },\n  \n  /**\n   * \u8C03\u7528 AI \u6A21\u578B\uFF08\u4F18\u5148 Cloudflare\uFF0C\u5931\u8D25\u540E\u5207\u6362 ModelScope\uFF09\n   * @param {object} env - Worker \u73AF\u5883\u5BF9\u8C61\n   * @param {string} prompt - \u63D0\u793A\u8BCD\n   * @returns {Promise<string>} AI \u54CD\u5E94\n   */\n  async callAI(env, prompt) {\n    // \u4F18\u5148\u4F7F\u7528 Cloudflare Workers AI\n    if (env.AI) {\n      console.log('[AI] Using Cloudflare Workers AI, model:', this.MODEL);\n      try {\n        const response = await env.AI.run(this.MODEL, {\n          messages: [\n            { role: 'system', content: '\u4F60\u662F\u4E00\u4E2A\u4E13\u4E1A\u7684\u90AE\u4EF6\u5206\u6790\u52A9\u624B\u3002\u8BF7\u6839\u636E\u8981\u6C42\u7B80\u6D01\u51C6\u786E\u5730\u56DE\u7B54\uFF0C\u53EA\u8F93\u51FA\u7ED3\u679C\uFF0C\u4E0D\u8981\u89E3\u91CA\u3002' },\n            { role: 'user', content: prompt }\n          ],\n          max_tokens: 500\n        });\n        console.log('[AI] Cloudflare AI response:', JSON.stringify(response).substring(0, 200));\n        if (response && response.response) {\n          console.log('[AI] Cloudflare AI success, length:', response.response.length);\n          return response.response;\n        }\n        console.log('[AI] Cloudflare AI returned empty or invalid response');\n      } catch (error) {\n        console.error('[AI] Cloudflare AI failed:', error.message, error.stack);\n      }\n    } else {\n      console.log('[AI] env.AI not available, Cloudflare AI not bound');\n    }\n    \n    // \u5907\u7528\uFF1A\u4F7F\u7528 ModelScope API\n    console.log('[AI] Using ModelScope API as fallback');\n    return await this.callModelScope(env, prompt);\n  },\n  \n  /**\n   * \u4ECE\u90AE\u4EF6\u4E2D\u63D0\u53D6\u9A8C\u8BC1\u7801\n   * @param {object} env - Worker \u73AF\u5883\u5BF9\u8C61\n   * @param {string} text - \u90AE\u4EF6\u6587\u672C\u5185\u5BB9\n   * @param {string} subject - \u90AE\u4EF6\u4E3B\u9898\n   * @returns {Promise<string|null>} \u9A8C\u8BC1\u7801\n   */\n  async extractVerificationCode(env, text, subject) {\n    if (!this.isEnabled()) return null;\n    \n    const content = `${subject}\\n${text}`.substring(0, 2000);\n    const prompt = `\u4ECE\u4EE5\u4E0B\u90AE\u4EF6\u5185\u5BB9\u4E2D\u63D0\u53D6\u9A8C\u8BC1\u7801\u3002\u9A8C\u8BC1\u7801\u901A\u5E38\u662F4-8\u4F4D\u7684\u6570\u5B57\u6216\u5B57\u6BCD\u6570\u5B57\u7EC4\u5408\u3002\n\u5982\u679C\u627E\u5230\u9A8C\u8BC1\u7801\uFF0C\u53EA\u8F93\u51FA\u9A8C\u8BC1\u7801\u672C\u8EAB\uFF08\u5982\uFF1A123456 \u6216 ABC123\uFF09\u3002\n\u5982\u679C\u6CA1\u6709\u627E\u5230\u9A8C\u8BC1\u7801\uFF0C\u8F93\u51FA\uFF1A\u65E0\n\n\u90AE\u4EF6\u5185\u5BB9\uFF1A\n${content}`;\n    \n    const result = await this.callAI(env, prompt);\n    if (!result || result.includes('\u65E0') || result.length > 10) {\n      return null;\n    }\n    // \u6E05\u7406\u7ED3\u679C\uFF0C\u53EA\u4FDD\u7559\u6709\u6548\u5B57\u7B26\n    const code = result.trim().replace(/[^a-zA-Z0-9]/g, '');\n    return code.length >= 4 && code.length <= 8 ? code : null;\n  },\n  \n  /**\n   * \u751F\u6210\u90AE\u4EF6\u6458\u8981\n   * @param {object} env - Worker \u73AF\u5883\u5BF9\u8C61\n   * @param {string} text - \u90AE\u4EF6\u6587\u672C\u5185\u5BB9\n   * @param {string} subject - \u90AE\u4EF6\u4E3B\u9898\n   * @returns {Promise<string|null>} \u6458\u8981\n   */\n  async generateSummary(env, text, subject) {\n    if (!this.isEnabled()) return null;\n    \n    const content = `${subject}\\n${text}`.substring(0, 3000);\n    const prompt = `\u7528\u4E2D\u82F1\u53CC\u8BED\u5404\u4E00\u53E5\u8BDD\u6982\u62EC\u4EE5\u4E0B\u90AE\u4EF6\u5185\u5BB9\u3002\n\u683C\u5F0F\uFF1A\u4E2D\u6587\u5185\u5BB9 | English content\n\u4E0D\u8981\u52A0\u4EFB\u4F55\u524D\u7F00\u6807\u7B7E\uFF0C\u76F4\u63A5\u8F93\u51FA\u5185\u5BB9\uFF0C\u7528|\u5206\u9694\u3002\u6BCF\u79CD\u8BED\u8A00\u4E0D\u8D85\u8FC730\u5B57\u3002\n\n${content}`;\n    \n    const result = await this.callAI(env, prompt);\n    if (!result) return null;\n    return result.trim().substring(0, 150);\n  },\n  \n  /**\n   * \u68C0\u6D4B\u662F\u5426\u4E3A\u5783\u573E\u90AE\u4EF6\n   * @param {object} env - Worker \u73AF\u5883\u5BF9\u8C61\n   * @param {string} text - \u90AE\u4EF6\u6587\u672C\u5185\u5BB9\n   * @param {string} subject - \u90AE\u4EF6\u4E3B\u9898\n   * @param {string} from - \u53D1\u4EF6\u4EBA\n   * @returns {Promise<boolean>} \u662F\u5426\u4E3A\u5783\u573E\u90AE\u4EF6\n   */\n  async detectSpam(env, text, subject, from) {\n    if (!this.isEnabled()) return false;\n    \n    const content = `\u53D1\u4EF6\u4EBA: ${from}\\n\u4E3B\u9898: ${subject}\\n\u5185\u5BB9: ${text}`.substring(0, 2000);\n    const prompt = `\u5224\u65AD\u4EE5\u4E0B\u90AE\u4EF6\u662F\u5426\u4E3A\u5783\u573E\u90AE\u4EF6\u6216\u9493\u9C7C\u90AE\u4EF6\u3002\n\u53EA\u56DE\u7B54\"\u662F\"\u6216\"\u5426\"\u3002\n\n${content}`;\n    \n    const result = await this.callAI(env, prompt);\n    if (!result) return false;\n    return result.includes('\u662F');\n  },\n  \n  /**\n   * \u68C0\u6D4B\u90AE\u4EF6\u8BED\u8A00\n   * @param {object} env - Worker \u73AF\u5883\u5BF9\u8C61\n   * @param {string} text - \u90AE\u4EF6\u6587\u672C\u5185\u5BB9\n   * @returns {Promise<string>} \u8BED\u8A00\u4EE3\u7801 (zh/en/ja/ko/...)\n   */\n  async detectLanguage(env, text) {\n    if (!this.isEnabled()) return 'unknown';\n    \n    const content = text.substring(0, 500);\n    const prompt = `\u68C0\u6D4B\u4EE5\u4E0B\u6587\u672C\u7684\u8BED\u8A00\uFF0C\u53EA\u8F93\u51FA\u8BED\u8A00\u4EE3\u7801\uFF08\u5982\uFF1Azh\u3001en\u3001ja\u3001ko\u3001fr\u3001de\u3001es\u3001ru\uFF09\uFF1A\n\n${content}`;\n    \n    const result = await this.callAI(env, prompt);\n    if (!result) return 'unknown';\n    const lang = result.trim().toLowerCase().replace(/[^a-z]/g, '');\n    return lang.length === 2 ? lang : 'unknown';\n  },\n  \n  /**\n   * \u7FFB\u8BD1\u6587\u672C\u5185\u5BB9\n   * @param {object} env - Worker \u73AF\u5883\u5BF9\u8C61\n   * @param {string} text - \u8981\u7FFB\u8BD1\u7684\u6587\u672C\n   * @param {string} targetLang - \u76EE\u6807\u8BED\u8A00 (zh/en/ja/ko/...)\n   * @returns {Promise<string|null>} \u7FFB\u8BD1\u7ED3\u679C\n   */\n  async translate(env, text, targetLang = 'zh') {\n    if (!this.isEnabled()) return null;\n    \n    const langMap = {\n      'zh': '\u4E2D\u6587',\n      'en': '\u82F1\u6587',\n      'ja': '\u65E5\u6587',\n      'ko': '\u97E9\u6587',\n      'fr': '\u6CD5\u6587',\n      'de': '\u5FB7\u6587',\n      'es': '\u897F\u73ED\u7259\u6587',\n      'ru': '\u4FC4\u6587'\n    };\n    \n    const targetName = langMap[targetLang] || '\u4E2D\u6587';\n    const content = text.substring(0, 3000);\n    const prompt = `\u5C06\u4EE5\u4E0B\u6587\u672C\u7FFB\u8BD1\u6210${targetName}\uFF0C\u53EA\u8F93\u51FA\u7FFB\u8BD1\u7ED3\u679C\uFF1A\n\n${content}`;\n    \n    const result = await this.callAI(env, prompt);\n    return result ? result.trim() : null;\n  },\n  \n  /**\n   * \u68C0\u6D4B URL \u5B89\u5168\u6027\n   * @param {object} env - Worker \u73AF\u5883\u5BF9\u8C61\n   * @param {string} url - \u8981\u68C0\u6D4B\u7684 URL\n   * @returns {Promise<{safe: boolean, reason: string}>} \u5B89\u5168\u68C0\u6D4B\u7ED3\u679C\n   */\n  async checkUrlSafety(env, url) {\n    if (!this.isEnabled()) {\n      return { safe: true, reason: 'AI \u529F\u80FD\u5DF2\u7981\u7528' };\n    }\n    \n    const prompt = `\u5206\u6790\u4EE5\u4E0B URL \u662F\u5426\u53EF\u80FD\u662F\u6076\u610F\u94FE\u63A5\uFF08\u9493\u9C7C\u3001\u8BC8\u9A97\u3001\u6076\u610F\u8F6F\u4EF6\u7B49\uFF09\u3002\n\u8F93\u51FA\u683C\u5F0F\uFF1A\u5B89\u5168/\u53EF\u7591/\u5371\u9669 - \u539F\u56E0\n\nURL: ${url}`;\n    \n    const result = await this.callAI(env, prompt);\n    if (!result) {\n      return { safe: true, reason: '\u65E0\u6CD5\u5206\u6790' };\n    }\n    \n    const isSafe = result.includes('\u5B89\u5168') && !result.includes('\u4E0D\u5B89\u5168');\n    const reason = result.replace(/^(\u5B89\u5168|\u53EF\u7591|\u5371\u9669)\\s*[-:\uFF1A]?\\s*/, '').trim();\n    \n    return {\n      safe: isSafe,\n      reason: reason || (isSafe ? '\u672A\u53D1\u73B0\u53EF\u7591\u7279\u5F81' : '\u5B58\u5728\u6F5C\u5728\u98CE\u9669')\n    };\n  },\n  \n  /**\n   * \u7EFC\u5408\u5206\u6790\u90AE\u4EF6\uFF08\u9A8C\u8BC1\u7801\u63D0\u53D6 + \u6458\u8981 + \u5783\u573E\u68C0\u6D4B + \u8BED\u8A00\u68C0\u6D4B\uFF09\n   * @param {object} env - Worker \u73AF\u5883\u5BF9\u8C61\n   * @param {object} email - \u90AE\u4EF6\u5BF9\u8C61 {subject, text, html, from}\n   * @returns {Promise<object>} \u5206\u6790\u7ED3\u679C\n   */\n  async analyzeEmail(env, email) {\n    if (!this.isEnabled()) {\n      return {\n        verificationCode: null,\n        summary: null,\n        isSpam: false,\n        language: 'unknown',\n        aiEnabled: false\n      };\n    }\n    \n    const { subject = '', text = '', from = '' } = email;\n    \n    // \u5E76\u884C\u6267\u884C AI \u5206\u6790\u4EFB\u52A1\n    const [verificationCode, summary, isSpamResult, language] = await Promise.all([\n      this.extractVerificationCode(env, text, subject),\n      this.generateSummary(env, text, subject),\n      this.detectSpam(env, text, subject, from),\n      this.detectLanguage(env, text)\n    ]);\n    \n    // \u5982\u679C\u68C0\u6D4B\u5230\u9A8C\u8BC1\u7801\uFF0C\u5219\u4E0D\u6807\u8BB0\u4E3A\u5783\u573E\u90AE\u4EF6\uFF08\u9A8C\u8BC1\u7801\u90AE\u4EF6\u4F18\u5148\u7EA7\u9AD8\u4E8E\u5783\u573E\u90AE\u4EF6\u68C0\u6D4B\uFF09\n    const isSpam = verificationCode ? false : isSpamResult;\n    \n    return {\n      verificationCode,\n      summary,\n      isSpam,\n      language,\n      aiEnabled: true\n    };\n  }\n};\n\n// ES \u6A21\u5757\u5BFC\u51FA\u683C\u5F0F\uFF08\u652F\u6301 AI \u7ED1\u5B9A\uFF09\nexport default {\n  async email(message, env, ctx) {\n    ctx.waitUntil(handleEmail(message, env));\n  },\n  \n  async fetch(request, env, ctx) {\n    return handleRequest(request, env);\n  }\n};\n\n/**\n * \u5904\u7406\u63A5\u6536\u5230\u7684\u90AE\u4EF6\n */\nasync function handleEmail(message, env) {\n  try {\n    // \u63D0\u53D6\u90AE\u4EF6\u4FE1\u606F\n    const to = message.to;\n    const from = message.from;\n    const subject = message.headers.get('subject') || '(\u65E0\u4E3B\u9898)';\n    const date = new Date().toISOString();\n    \n    // \u8BFB\u53D6\u539F\u59CB\u90AE\u4EF6\u5185\u5BB9\n    const rawEmail = await new Response(message.raw).text();\n    \n    // \u63D0\u53D6\u7EAF\u6587\u672C\u548C HTML \u5185\u5BB9\n    const { text, html } = await extractEmailContent(rawEmail);\n    \n    // AI \u5206\u6790\u90AE\u4EF6\uFF08\u9A8C\u8BC1\u7801\u63D0\u53D6\u3001\u6458\u8981\u3001\u5783\u573E\u68C0\u6D4B\u3001\u8BED\u8A00\u68C0\u6D4B\uFF09\n    let aiResult = {\n      verificationCode: null,\n      summary: null,\n      isSpam: false,\n      language: 'unknown',\n      aiEnabled: false\n    };\n    \n    try {\n      aiResult = await AIService.analyzeEmail(env, {\n        subject,\n        text: text || '',\n        from\n      });\n      console.log(`AI analysis: code=${aiResult.verificationCode || 'none'}, summary=${aiResult.summary ? 'yes' : 'no'}, spam=${aiResult.isSpam}, lang=${aiResult.language}`);\n    } catch (aiError) {\n      console.error('AI analysis failed:', aiError);\n    }\n    \n    // \u6784\u9020\u90AE\u4EF6\u5BF9\u8C61\uFF08\u5305\u542B AI \u5206\u6790\u7ED3\u679C\uFF09\n    const emailData = {\n      from,\n      to,\n      subject,\n      date,\n      text: text || '',\n      html: html || '',\n      raw: rawEmail.substring(0, 10000), // \u9650\u5236\u5927\u5C0F\n      // AI \u5206\u6790\u5B57\u6BB5\n      verificationCode: aiResult.verificationCode,\n      summary: aiResult.summary,\n      isSpam: aiResult.isSpam,\n      language: aiResult.language\n    };\n    \n    // \u53D1\u9001\u5230 MySQL API \u540E\u7AEF\u5B58\u50A8\n    const response = await fetch(`${getApiBase(env)}/api/emails`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(emailData)\n    });\n    \n    if (response.ok) {\n      console.log(`Email stored for ${to}, text length: ${text?.length || 0}, html length: ${html?.length || 0}`);\n    } else {\n      const error = await response.text();\n      console.error(`Failed to store email: ${error}`);\n    }\n  } catch (error) {\n    console.error('Error handling email:', error);\n  }\n}\n\n/**\n * \u5904\u7406\u77ED\u94FE\u63A5\u8DF3\u8F6C\n */\nasync function handleShortLinkRedirect(code, origin, env) {\n  try {\n    // \u8C03\u7528\u540E\u7AEF API \u83B7\u53D6\u77ED\u94FE\u63A5\u4FE1\u606F\u5E76\u589E\u52A0\u70B9\u51FB\u6B21\u6570\n    const response = await fetch(`${getApiBase(env)}/api/links/${code}/redirect`);\n    const data = await response.json();\n    \n    if (!response.ok || !data.success) {\n      // \u77ED\u94FE\u63A5\u4E0D\u5B58\u5728\u6216\u5DF2\u8FC7\u671F\uFF0C\u663E\u793A\u9519\u8BEF\u9875\u9762\n      return new Response(getShortLinkErrorHTML(data.error || '\u77ED\u94FE\u63A5\u4E0D\u5B58\u5728', origin), {\n        status: response.status,\n        headers: {\n          'Content-Type': 'text/html; charset=utf-8'\n        }\n      });\n    }\n    \n    // 302 \u8DF3\u8F6C\u5230\u539F\u59CB URL\n    return Response.redirect(data.url, 302);\n  } catch (error) {\n    console.error('Short link redirect error:', error);\n    return new Response(getShortLinkErrorHTML('\u670D\u52A1\u6682\u65F6\u4E0D\u53EF\u7528', origin), {\n      status: 500,\n      headers: {\n        'Content-Type': 'text/html; charset=utf-8'\n      }\n    });\n  }\n}\n\n/**\n * \u751F\u6210\u77ED\u94FE\u63A5\u9519\u8BEF\u9875\u9762\n */\nfunction getShortLinkErrorHTML(errorMessage, origin) {\n  return `<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>\u77ED\u94FE\u63A5\u9519\u8BEF - \u516C\u76CA\u5E73\u53F0</title>\n  <style>\n    * { margin: 0; padding: 0; box-sizing: border-box; }\n    body {\n      font-family: 'Noto Sans SC', -apple-system, BlinkMacSystemFont, sans-serif;\n      background: #0a0e17;\n      color: #f1f5f9;\n      min-height: 100vh;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n    .container {\n      text-align: center;\n      padding: 40px;\n    }\n    .icon {\n      font-size: 64px;\n      margin-bottom: 20px;\n    }\n    h1 {\n      color: #ef4444;\n      font-size: 24px;\n      margin-bottom: 10px;\n    }\n    p {\n      color: #94a3b8;\n      margin-bottom: 30px;\n    }\n    a {\n      display: inline-block;\n      padding: 12px 24px;\n      background: #00f5d4;\n      color: #0a0e17;\n      text-decoration: none;\n      border-radius: 8px;\n      font-weight: 600;\n    }\n    a:hover {\n      background: #00c4aa;\n    }\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n    <div class=\"icon\">:(</div>\n    <h1>${errorMessage}</h1>\n    <p>\u8BF7\u68C0\u67E5\u94FE\u63A5\u662F\u5426\u6B63\u786E\uFF0C\u6216\u8054\u7CFB\u94FE\u63A5\u521B\u5EFA\u8005</p>\n    <a href=\"https://free.violetteam.cloud\">\u8FD4\u56DE\u9996\u9875</a>\n  </div>\n</body>\n</html>`;\n}\n\n/**\n * \u751F\u6210\u5B50\u57DF\u540D\u9519\u8BEF\u9875\u9762 HTML\n */\nfunction getSubdomainErrorHTML(subdomain, errorMessage) {\n  return `<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>\u5B50\u57DF\u540D\u4E0D\u5B58\u5728 - \u516C\u76CA\u5E73\u53F0</title>\n  <style>\n    * { margin: 0; padding: 0; box-sizing: border-box; }\n    body {\n      font-family: 'Noto Sans SC', -apple-system, BlinkMacSystemFont, sans-serif;\n      background: linear-gradient(135deg, #0a0e17 0%, #1a1f2e 100%);\n      color: #f1f5f9;\n      min-height: 100vh;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n    .container {\n      text-align: center;\n      padding: 40px;\n      max-width: 500px;\n    }\n    .icon {\n      font-size: 80px;\n      margin-bottom: 20px;\n      opacity: 0.8;\n    }\n    h1 {\n      color: #f59e0b;\n      font-size: 28px;\n      margin-bottom: 15px;\n    }\n    .domain {\n      font-family: 'JetBrains Mono', monospace;\n      color: #00f5d4;\n      font-size: 18px;\n      background: rgba(0, 245, 212, 0.1);\n      padding: 8px 16px;\n      border-radius: 6px;\n      margin-bottom: 20px;\n      display: inline-block;\n    }\n    .error-msg {\n      color: #94a3b8;\n      margin-bottom: 30px;\n      line-height: 1.6;\n    }\n    .buttons {\n      display: flex;\n      gap: 15px;\n      justify-content: center;\n      flex-wrap: wrap;\n    }\n    a {\n      display: inline-block;\n      padding: 12px 24px;\n      text-decoration: none;\n      border-radius: 8px;\n      font-weight: 600;\n      transition: all 0.2s;\n    }\n    .primary {\n      background: #00f5d4;\n      color: #0a0e17;\n    }\n    .primary:hover {\n      background: #00c4aa;\n    }\n    .secondary {\n      background: rgba(255, 255, 255, 0.1);\n      color: #f1f5f9;\n      border: 1px solid rgba(255, 255, 255, 0.2);\n    }\n    .secondary:hover {\n      background: rgba(255, 255, 255, 0.2);\n    }\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n    <div class=\"icon\">:/</div>\n    <h1>\u5B50\u57DF\u540D\u4E0D\u5B58\u5728</h1>\n    <div class=\"domain\">${subdomain}.yljdteam.com</div>\n    <p class=\"error-msg\">${errorMessage || '\u8BE5\u5B50\u57DF\u540D\u5C1A\u672A\u6CE8\u518C\u6216\u5DF2\u8FC7\u671F'}</p>\n    <div class=\"buttons\">\n      <a href=\"https://free.violetteam.cloud\" class=\"primary\">\u8FD4\u56DE\u9996\u9875</a>\n      <a href=\"https://free.violetteam.cloud#subdomain\" class=\"secondary\">\u7533\u8BF7\u5B50\u57DF\u540D</a>\n    </div>\n  </div>\n</body>\n</html>`;\n}\n\n/**\n * \u751F\u6210 API \u6587\u6863 HTML \u9875\u9762\n */\nfunction getApiDocumentationHTML(origin) {\n  return `<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>API \u4F7F\u7528\u8BF4\u660E - \u516C\u76CA\u5E73\u53F0</title>\n  <link rel=\"preconnect\" href=\"https://fonts.googleapis.com\">\n  <link rel=\"preconnect\" href=\"https://fonts.gstatic.com\" crossorigin>\n  <link href=\"https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=Noto+Sans+SC:wght@400;500;700&display=swap\" rel=\"stylesheet\">\n  <style>\n      :root {\n          --primary: #00f5d4;\n          --primary-dim: #00c4aa;\n          --primary-glow: rgba(0, 245, 212, 0.3);\n          --secondary: #9b5de5;\n          --secondary-dim: #7b3ec5;\n          --accent: #f15bb5;\n          --bg-dark: #0a0e17;\n          --bg-darker: #060912;\n          --bg-card: #111827;\n          --bg-card-hover: #1a2332;\n          --bg-elevated: #1e293b;\n          --text-primary: #f1f5f9;\n          --text-secondary: #94a3b8;\n          --text-muted: #64748b;\n          --border: #1e293b;\n          --border-glow: rgba(0, 245, 212, 0.2);\n          --success: #10b981;\n          --warning: #f59e0b;\n          --error: #ef4444;\n          --font-mono: 'JetBrains Mono', 'Consolas', monospace;\n          --font-sans: 'Noto Sans SC', -apple-system, BlinkMacSystemFont, sans-serif;\n      }\n      * {\n          margin: 0;\n          padding: 0;\n          box-sizing: border-box;\n      }\n      body {\n          font-family: var(--font-sans);\n          background: var(--bg-dark);\n          color: var(--text-primary);\n          line-height: 1.6;\n          min-height: 100vh;\n          padding: 20px;\n      }\n      .container {\n          max-width: 1200px;\n          margin: 0 auto;\n      }\n      .header {\n          text-align: center;\n          padding: 40px 20px;\n          border-bottom: 1px solid var(--border);\n          margin-bottom: 40px;\n      }\n      .logo {\n          font-size: 48px;\n          font-weight: 700;\n          color: var(--primary);\n          margin-bottom: 10px;\n          text-shadow: 0 0 20px var(--primary-glow);\n      }\n      .subtitle {\n          color: var(--text-secondary);\n          font-size: 18px;\n          margin-top: 10px;\n      }\n      .card {\n          background: var(--bg-card);\n          border: 1px solid var(--border);\n          border-radius: 12px;\n          padding: 30px;\n          margin-bottom: 30px;\n          transition: all 0.3s ease;\n      }\n      .card:hover {\n          border-color: var(--primary);\n          box-shadow: 0 0 20px var(--primary-glow);\n      }\n      .card-title {\n          font-size: 24px;\n          color: var(--primary);\n          margin-bottom: 20px;\n          display: flex;\n          align-items: center;\n          gap: 10px;\n      }\n      .card-title::before {\n          content: '';\n          width: 4px;\n          height: 24px;\n          background: var(--primary);\n          border-radius: 2px;\n      }\n      .endpoint {\n          background: var(--bg-elevated);\n          border: 1px solid var(--border);\n          border-radius: 8px;\n          padding: 20px;\n          margin-bottom: 15px;\n      }\n      .endpoint-method {\n          display: inline-block;\n          padding: 4px 12px;\n          border-radius: 4px;\n          font-size: 12px;\n          font-weight: 600;\n          font-family: var(--font-mono);\n          margin-right: 10px;\n      }\n      .method-get { background: var(--success); color: white; }\n      .method-post { background: var(--primary); color: var(--bg-dark); }\n      .method-delete { background: var(--error); color: white; }\n      .endpoint-path {\n          font-family: var(--font-mono);\n          color: var(--text-primary);\n          font-size: 16px;\n          margin: 10px 0;\n      }\n      .endpoint-desc {\n          color: var(--text-secondary);\n          margin-top: 10px;\n          line-height: 1.8;\n      }\n      .code-block {\n          background: var(--bg-darker);\n          border: 1px solid var(--border);\n          border-radius: 8px;\n          padding: 20px;\n          margin: 15px 0;\n          overflow-x: auto;\n      }\n      .code-block code {\n          font-family: var(--font-mono);\n          font-size: 14px;\n          color: var(--text-primary);\n          white-space: pre;\n      }\n      .highlight {\n          color: var(--primary);\n      }\n      .example {\n          background: var(--bg-elevated);\n          border-left: 3px solid var(--primary);\n          padding: 15px 20px;\n          margin: 15px 0;\n          border-radius: 4px;\n      }\n      .example-title {\n          color: var(--primary);\n          font-weight: 600;\n          margin-bottom: 10px;\n      }\n      .badge {\n          display: inline-block;\n          padding: 4px 10px;\n          background: var(--bg-elevated);\n          border: 1px solid var(--border);\n          border-radius: 4px;\n          font-size: 12px;\n          color: var(--text-secondary);\n          margin-left: 10px;\n      }\n      .footer {\n          text-align: center;\n          padding: 40px 20px;\n          color: var(--text-muted);\n          border-top: 1px solid var(--border);\n          margin-top: 60px;\n      }\n      a {\n          color: var(--primary);\n          text-decoration: none;\n      }\n      a:hover {\n          text-decoration: underline;\n      }\n      .btn-primary {\n          display: inline-block;\n          padding: 10px 24px;\n          background: var(--primary);\n          color: var(--bg-dark);\n          border-radius: 8px;\n          font-weight: 600;\n          text-decoration: none;\n          transition: all 0.3s ease;\n      }\n      .btn-primary:hover {\n          background: var(--primary-dim);\n          text-decoration: none;\n          transform: translateY(-2px);\n          box-shadow: 0 4px 15px var(--primary-glow);\n      }\n      .btn-secondary {\n          display: inline-block;\n          padding: 10px 24px;\n          background: transparent;\n          color: var(--primary);\n          border: 1px solid var(--primary);\n          border-radius: 8px;\n          font-weight: 600;\n          text-decoration: none;\n          transition: all 0.3s ease;\n      }\n      .btn-secondary:hover {\n          background: rgba(0, 245, 212, 0.1);\n          text-decoration: none;\n          transform: translateY(-2px);\n      }\n      .status-badge {\n          display: inline-flex;\n          align-items: center;\n          gap: 6px;\n          padding: 6px 12px;\n          background: rgba(16, 185, 129, 0.15);\n          border: 1px solid var(--success);\n          border-radius: 20px;\n          font-size: 13px;\n          color: var(--success);\n      }\n      .status-badge::before {\n          content: '';\n          width: 8px;\n          height: 8px;\n          background: var(--success);\n          border-radius: 50%;\n          animation: pulse 2s infinite;\n      }\n      @keyframes pulse {\n          0%, 100% { opacity: 1; }\n          50% { opacity: 0.5; }\n      }\n      .feature-grid {\n          display: grid;\n          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n          gap: 20px;\n          margin-top: 20px;\n      }\n      .feature-item {\n          padding: 20px;\n          background: var(--bg-elevated);\n          border-radius: 8px;\n          border-left: 3px solid var(--primary);\n      }\n      .feature-item h4 {\n          color: var(--primary);\n          margin-bottom: 8px;\n          font-size: 16px;\n      }\n      .feature-item p {\n          color: var(--text-secondary);\n          font-size: 14px;\n          line-height: 1.6;\n      }\n  </style>\n</head>\n<body>\n  <div class=\"container\">\n      <div class=\"header\">\n          <div class=\"logo\">\u221E \u516C\u76CA\u5E73\u53F0</div>\n          <div class=\"subtitle\">API \u4F7F\u7528\u8BF4\u660E\u6587\u6863</div>\n          <div class=\"subtitle\" style=\"font-size: 14px; margin-top: 5px; color: var(--text-muted);\">\n              \u5F53\u524D\u57DF\u540D: <span class=\"highlight\">${origin}</span>\n          </div>\n          <div style=\"margin-top: 20px; display: flex; gap: 12px; justify-content: center; flex-wrap: wrap;\">\n              <a href=\"https://free.violetteam.cloud\" class=\"btn-primary\">\u524D\u5F80\u4E3B\u9875</a>\n              <a href=\"https://github.com/violettoolssite/loveFreeTools\" target=\"_blank\" class=\"btn-secondary\">GitHub \u6E90\u7801</a>\n          </div>\n      </div>\n\n      <div class=\"card\">\n          <div class=\"card-title\">\u670D\u52A1\u7B80\u4ECB</div>\n          <div style=\"display: flex; align-items: center; gap: 15px; margin-bottom: 20px;\">\n              <span class=\"status-badge\">\u670D\u52A1\u8FD0\u884C\u4E2D</span>\n              <span style=\"color: var(--text-muted); font-size: 13px;\">Cloudflare Workers \u5168\u7403\u8FB9\u7F18\u90E8\u7F72</span>\n          </div>\n          <p style=\"color: var(--text-secondary); line-height: 1.8;\">\n              \u516C\u76CA\u5E73\u53F0\u662F\u4E00\u4E2A\u5B8C\u5168\u514D\u8D39\u7684\u516C\u76CA\u670D\u52A1\u9879\u76EE\uFF0C\u81F4\u529B\u4E8E\u4E3A\u5F00\u53D1\u8005\u63D0\u4F9B\u4FBF\u6377\u7684\u5DE5\u5177\u548C\u670D\u52A1\u3002\n              \u6211\u4EEC\u63D0\u4F9B\u4E34\u65F6\u90AE\u7BB1\u3001\u77ED\u94FE\u63A5\u670D\u52A1\u3001GitHub \u4EE3\u7406\u3001\u6587\u4EF6\u52A0\u901F\u4E0B\u8F7D\u3001AI \u667A\u80FD\u5206\u6790\u7B49\u591A\u9879\u514D\u8D39\u670D\u52A1\u3002\n              \u6240\u6709\u670D\u52A1\u5747\u901A\u8FC7 Cloudflare Workers \u90E8\u7F72\uFF0C\u652F\u6301\u9AD8\u5E76\u53D1\u3001\u4F4E\u5EF6\u8FDF\u8BBF\u95EE\u3002\u90AE\u4EF6\u6570\u636E\u4F1A\u5728 24 \u5C0F\u65F6\u540E\u81EA\u52A8\u5220\u9664\uFF0C\u786E\u4FDD\u9690\u79C1\u5B89\u5168\u3002\n          </p>\n          <div class=\"feature-grid\">\n              <div class=\"feature-item\">\n                  <h4>\u4E34\u65F6\u90AE\u7BB1</h4>\n                  <p>\u514D\u8D39\u63A5\u6536\u90AE\u4EF6\uFF0C\u652F\u6301\u591A\u57DF\u540D\uFF0C24 \u5C0F\u65F6\u81EA\u52A8\u6E05\u7406\uFF0C\u4FDD\u62A4\u9690\u79C1</p>\n              </div>\n              <div class=\"feature-item\">\n                  <h4>\u77ED\u94FE\u63A5\u670D\u52A1</h4>\n                  <p>\u957F\u94FE\u63A5\u8F6C\u77ED\u94FE\uFF0C\u652F\u6301\u81EA\u5B9A\u4E49\u77ED\u7801\uFF0C\u8BBF\u95EE\u7EDF\u8BA1\uFF0C\u53EF\u8BBE\u8FC7\u671F\u65F6\u95F4</p>\n              </div>\n              <div class=\"feature-item\">\n                  <h4>GitHub \u52A0\u901F</h4>\n                  <p>\u4EE3\u7406 GitHub \u8BBF\u95EE\uFF0C\u652F\u6301 git clone\u3001\u6587\u4EF6\u4E0B\u8F7D\u7B49\u64CD\u4F5C</p>\n              </div>\n              <div class=\"feature-item\">\n                  <h4>\u6587\u4EF6\u52A0\u901F</h4>\n                  <p>\u52A0\u901F\u4E0B\u8F7D\u4EFB\u610F HTTPS \u6587\u4EF6\uFF0C\u65E0\u5927\u5C0F\u9650\u5236\uFF0C\u652F\u6301\u65AD\u70B9\u7EED\u4F20</p>\n              </div>\n              <div class=\"feature-item\">\n                  <h4>AI \u667A\u80FD\u5206\u6790</h4>\n                  <p>\u90AE\u4EF6\u6458\u8981\u751F\u6210\u3001\u9A8C\u8BC1\u7801\u63D0\u53D6\u3001\u5783\u573E\u68C0\u6D4B\u3001\u591A\u8BED\u8A00\u7FFB\u8BD1</p>\n              </div>\n              <div class=\"feature-item\">\n                  <h4>\u5F00\u6E90\u900F\u660E</h4>\n                  <p>\u4EE3\u7801\u5B8C\u5168\u5F00\u6E90\uFF0C\u6B22\u8FCE\u8D21\u732E\u548C\u81EA\u90E8\u7F72</p>\n              </div>\n          </div>\n      </div>\n\n      <div class=\"card\">\n          <div class=\"card-title\">\u90AE\u4EF6 API</div>\n          \n          <div class=\"endpoint\">\n              <span class=\"endpoint-method method-get\">GET</span>\n              <span class=\"endpoint-path\">/api/emails/:email</span>\n              <div class=\"endpoint-desc\">\n                  \u83B7\u53D6\u6307\u5B9A\u90AE\u7BB1\u5730\u5740\u7684\u6240\u6709\u90AE\u4EF6\u5217\u8868\uFF08\u516C\u5F00\u63A5\u53E3\uFF09\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u8BF7\u6C42\u793A\u4F8B</div>\n                      <code>GET ${origin}/api/emails/test@example.com</code>\n                  </div>\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u54CD\u5E94\u683C\u5F0F</div>\n                      <code>{\n  \"email\": \"test@example.com\",\n  \"emails\": [\n    {\n      \"id\": 1,\n      \"from\": \"sender@example.com\",\n      \"to\": \"test@example.com\",\n      \"subject\": \"\u90AE\u4EF6\u4E3B\u9898\",\n      \"date\": \"2025-12-29T00:00:00.000Z\",\n      \"text\": \"\u7EAF\u6587\u672C\u5185\u5BB9\",\n      \"html\": \"HTML \u5185\u5BB9\"\n    }\n  ],\n  \"count\": 1\n}</code>\n                  </div>\n              </div>\n          </div>\n\n          <div class=\"endpoint\">\n              <span class=\"endpoint-method method-delete\">DELETE</span>\n              <span class=\"endpoint-path\">/api/emails/:email/:id</span>\n              <div class=\"endpoint-desc\">\n                  \u5220\u9664\u6307\u5B9A\u90AE\u4EF6\uFF08\u516C\u5F00\u63A5\u53E3\uFF09\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u8BF7\u6C42\u793A\u4F8B</div>\n                      <code>DELETE ${origin}/api/emails/test@example.com/1</code>\n                  </div>\n              </div>\n          </div>\n      </div>\n\n      <div class=\"card\">\n          <div class=\"card-title\">\u57DF\u540D\u7BA1\u7406 API</div>\n          \n          <div class=\"endpoint\">\n              <span class=\"endpoint-method method-get\">GET</span>\n              <span class=\"endpoint-path\">/api/domains</span>\n              <div class=\"endpoint-desc\">\n                  \u83B7\u53D6\u6240\u6709\u53EF\u7528\u7684\u57DF\u540D\u5217\u8868\uFF08\u516C\u5F00\u63A5\u53E3\uFF09\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u8BF7\u6C42\u793A\u4F8B</div>\n                      <code>GET ${origin}/api/domains</code>\n                  </div>\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u54CD\u5E94\u683C\u5F0F</div>\n                      <code>{\n  \"success\": true,\n  \"domains\": [\n    {\n      \"name\": \"example.com\",\n      \"api\": \"https://example.com\"\n    }\n  ]\n}</code>\n                  </div>\n              </div>\n          </div>\n\n          <div class=\"endpoint\">\n              <span class=\"endpoint-method method-post\">POST</span>\n              <span class=\"endpoint-path\">/api/domains</span>\n              <div class=\"endpoint-desc\">\n                  \u6DFB\u52A0\u65B0\u57DF\u540D\uFF08\u516C\u5F00\u63A5\u53E3\uFF0C\u65E0\u9700\u7BA1\u7406\u5458\u5BC6\u94A5\uFF09\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u8BF7\u6C42\u793A\u4F8B</div>\n                      <code>POST ${origin}/api/domains\nHeaders: {\n\"Content-Type\": \"application/json\"\n}\nBody: {\n\"name\": \"example.com\",\n\"api\": \"https://example.com\"\n}</code>\n                  </div>\n                  <div style=\"margin-top: 10px; padding: 10px; background: var(--bg-elevated); border-radius: 4px; font-size: 13px; color: var(--text-secondary);\">\n                      \u63D0\u793A\uFF1A\u4EFB\u4F55\u4EBA\u90FD\u53EF\u4EE5\u6DFB\u52A0\u57DF\u540D\uFF0C\u8FD9\u6709\u52A9\u4E8E\u6269\u5C55\u5E73\u53F0\u670D\u52A1\u8303\u56F4\n                  </div>\n              </div>\n          </div>\n\n          <div class=\"endpoint\">\n              <span class=\"endpoint-method method-delete\">DELETE</span>\n              <span class=\"endpoint-path\">/api/domains/:name</span>\n              <div class=\"endpoint-desc\">\n                  \u5220\u9664\u6307\u5B9A\u57DF\u540D <span class=\"badge\">\u9700\u8981\u7BA1\u7406\u5458\u5BC6\u94A5</span>\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u8BF7\u6C42\u793A\u4F8B</div>\n                      <code>DELETE ${origin}/api/domains/example.com\nHeaders: {\n\"X-Admin-Key\": \"your-admin-key\"\n}</code>\n                  </div>\n                  <div style=\"margin-top: 10px; padding: 10px; background: var(--bg-elevated); border-radius: 4px; font-size: 13px; color: var(--text-secondary);\">\n                      \u6CE8\u610F\uFF1A\u5220\u9664\u64CD\u4F5C\u9700\u8981\u7BA1\u7406\u5458\u5BC6\u94A5\uFF0C\u9632\u6B62\u8BEF\u5220\n                  </div>\n              </div>\n          </div>\n      </div>\n\n      <div class=\"card\">\n          <div class=\"card-title\">\u53D1\u9001\u90AE\u4EF6 API</div>\n          \n          <div class=\"endpoint\">\n              <span class=\"endpoint-method method-post\">POST</span>\n              <span class=\"endpoint-path\">/api/send-email</span>\n              <div class=\"endpoint-desc\">\n                  \u53D1\u9001\u90AE\u4EF6\uFF08\u9700\u8981\u914D\u7F6E RESEND_API_KEY\uFF09\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u8BF7\u6C42\u793A\u4F8B</div>\n                      <code>POST ${origin}/api/send-email\nHeaders: {\n\"Content-Type\": \"application/json\"\n}\nBody: {\n\"from\": \"sender@example.com\",\n\"to\": \"recipient@example.com\",\n\"subject\": \"\u90AE\u4EF6\u4E3B\u9898\",\n\"text\": \"\u7EAF\u6587\u672C\u5185\u5BB9\",\n\"html\": \"HTML \u5185\u5BB9\uFF08\u53EF\u9009\uFF09\"\n}</code>\n                  </div>\n              </div>\n          </div>\n      </div>\n\n      <div class=\"card\">\n          <div class=\"card-title\">\u77ED\u94FE\u63A5\u670D\u52A1</div>\n          <p style=\"color: var(--text-secondary); margin-bottom: 20px; line-height: 1.8;\">\n              \u514D\u8D39\u7684\u77ED\u94FE\u63A5\u751F\u6210\u670D\u52A1\uFF0C\u5C06\u957F URL \u8F6C\u6362\u4E3A\u77ED\u94FE\u63A5\uFF0C\u652F\u6301\u81EA\u5B9A\u4E49\u77ED\u7801\u548C\u8BBF\u95EE\u7EDF\u8BA1\u3002\n          </p>\n          \n          <div class=\"endpoint\">\n              <span class=\"endpoint-method method-post\">POST</span>\n              <span class=\"endpoint-path\">/api/links</span>\n              <div class=\"endpoint-desc\">\n                  \u521B\u5EFA\u77ED\u94FE\u63A5\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u8BF7\u6C42\u793A\u4F8B</div>\n                      <code>POST ${origin}/api/links\nHeaders: {\n\"Content-Type\": \"application/json\"\n}\nBody: {\n\"url\": \"https://example.com/very/long/url\",\n\"title\": \"\u94FE\u63A5\u6807\u9898\uFF08\u53EF\u9009\uFF09\",\n\"customCode\": \"mylink\uFF08\u53EF\u9009\uFF0C\u81EA\u5B9A\u4E49\u77ED\u7801\uFF09\",\n\"expiresIn\": 24\uFF08\u53EF\u9009\uFF0C\u8FC7\u671F\u65F6\u95F4\uFF0C\u5355\u4F4D\uFF1A\u5C0F\u65F6\uFF09\n}</code>\n                  </div>\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u54CD\u5E94\u683C\u5F0F</div>\n                      <code>{\n  \"success\": true,\n  \"code\": \"abc123\",\n  \"shortUrl\": \"${origin}/s/abc123\",\n  \"originalUrl\": \"https://example.com/very/long/url\",\n  \"expiresAt\": \"2025-01-01T12:00:00.000Z\"\n}</code>\n                  </div>\n              </div>\n          </div>\n\n          <div class=\"endpoint\">\n              <span class=\"endpoint-method method-get\">GET</span>\n              <span class=\"endpoint-path\">/s/:code</span>\n              <div class=\"endpoint-desc\">\n                  \u8BBF\u95EE\u77ED\u94FE\u63A5\uFF0C\u81EA\u52A8\u8DF3\u8F6C\u5230\u539F\u59CB URL\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u4F7F\u7528\u793A\u4F8B</div>\n                      <code># \u76F4\u63A5\u8BBF\u95EE\u77ED\u94FE\u63A5\n${origin}/s/abc123\n\n# \u5C06\u81EA\u52A8\u8DF3\u8F6C\u5230\u539F\u59CB URL</code>\n                  </div>\n              </div>\n          </div>\n\n          <div class=\"endpoint\">\n              <span class=\"endpoint-method method-get\">GET</span>\n              <span class=\"endpoint-path\">/api/links/:code/stats</span>\n              <div class=\"endpoint-desc\">\n                  \u83B7\u53D6\u77ED\u94FE\u63A5\u7EDF\u8BA1\u4FE1\u606F\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u54CD\u5E94\u683C\u5F0F</div>\n                      <code>{\n  \"success\": true,\n  \"stats\": {\n    \"code\": \"abc123\",\n    \"originalUrl\": \"https://example.com/...\",\n    \"clicks\": 42,\n    \"createdAt\": \"2025-01-01T00:00:00.000Z\",\n    \"expiresAt\": null,\n    \"isExpired\": false\n  }\n}</code>\n                  </div>\n              </div>\n          </div>\n\n          <div style=\"margin-top: 15px; padding: 15px; background: var(--bg-elevated); border-radius: 6px; border-left: 3px solid var(--primary);\">\n              <strong style=\"color: var(--primary);\">\u529F\u80FD\u7279\u6027\uFF1A</strong>\n              <ul style=\"margin-top: 10px; padding-left: 20px; color: var(--text-secondary);\">\n                  <li>\u652F\u6301\u81EA\u5B9A\u4E49\u77ED\u7801\uFF083-20 \u5B57\u7B26\uFF09</li>\n                  <li>\u53EF\u8BBE\u7F6E\u8FC7\u671F\u65F6\u95F4</li>\n                  <li>\u8BBF\u95EE\u6B21\u6570\u7EDF\u8BA1</li>\n                  <li>\u5B8C\u5168\u514D\u8D39\uFF0C\u65E0\u9700\u6CE8\u518C</li>\n              </ul>\n          </div>\n      </div>\n\n      <div class=\"card\">\n          <div class=\"card-title\">GitHub \u4EE3\u7406\u670D\u52A1</div>\n          <p style=\"color: var(--text-secondary); margin-bottom: 20px; line-height: 1.8;\">\n              \u901A\u8FC7\u672C\u57DF\u540D\u4EE3\u7406\u8BBF\u95EE GitHub\uFF0C\u652F\u6301 Git \u514B\u9686\u3001\u4E0B\u8F7D\u7B49\u64CD\u4F5C\u3002\u81EA\u52A8\u5C06 <span class=\"highlight\">github.com</span> \u66FF\u6362\u4E3A\u5F53\u524D\u57DF\u540D\u3002\n          </p>\n          \n          <div class=\"endpoint\">\n              <span class=\"endpoint-method method-get\">GET</span>\n              <span class=\"endpoint-path\">/{user}/{repo}[.git]</span>\n              <div class=\"endpoint-desc\">\n                  GitHub \u4ED3\u5E93\u4EE3\u7406\u8BBF\u95EE\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u4F7F\u7528\u793A\u4F8B</div>\n                      <code># Git \u514B\u9686\ngit clone ${origin}/username/repository.git\n\n# \u8BBF\u95EE\u4ED3\u5E93\u9875\u9762\ncurl ${origin}/username/repository\n\n# \u4E0B\u8F7D\u6587\u4EF6\ncurl ${origin}/username/repository/raw/main/file.txt</code>\n                  </div>\n                  <div style=\"margin-top: 15px; padding: 15px; background: var(--bg-elevated); border-radius: 6px; border-left: 3px solid var(--warning);\">\n                      <strong style=\"color: var(--warning);\">\u9650\u5236\u8BF4\u660E\uFF1A</strong>\n                      <ul style=\"margin-top: 10px; padding-left: 20px; color: var(--text-secondary);\">\n                          <li>\u4EC5\u5141\u8BB8 Git/Curl/Wget \u7B49\u5DE5\u5177\u8BBF\u95EE</li>\n                          <li>\u6BCF IP \u6BCF\u5206\u949F\u6700\u591A 60 \u6B21\u8BF7\u6C42</li>\n                          <li>\u7981\u6B62\u8BBF\u95EE\u767B\u5F55\u3001\u8BBE\u7F6E\u7B49\u654F\u611F\u8DEF\u5F84</li>\n                      </ul>\n                  </div>\n              </div>\n          </div>\n      </div>\n\n      <div class=\"card\">\n          <div class=\"card-title\">\u6587\u4EF6\u52A0\u901F\u4E0B\u8F7D</div>\n          <p style=\"color: var(--text-secondary); margin-bottom: 20px; line-height: 1.8;\">\n              \u901A\u8FC7 Cloudflare \u52A0\u901F\u4E0B\u8F7D\u5404\u7C7B\u6587\u4EF6\uFF0C\u652F\u6301 GitHub Releases\u3001npm\u3001PyPI \u7B49\u4EFB\u610F HTTPS \u6587\u4EF6\uFF0C\u65E0\u5927\u5C0F\u9650\u5236\u3002\n          </p>\n          \n          <div class=\"endpoint\">\n              <span class=\"endpoint-method method-get\">GET</span>\n              <span class=\"endpoint-path\">/proxy/?url={\u6587\u4EF6URL}</span>\n              <div class=\"endpoint-desc\">\n                  \u4EE3\u7406\u4E0B\u8F7D\u6307\u5B9A URL \u7684\u6587\u4EF6\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u4F7F\u7528\u793A\u4F8B</div>\n                      <code># \u52A0\u901F\u4E0B\u8F7D GitHub Release \u6587\u4EF6\n\\${origin}/proxy/?url=https://github.com/ollama/ollama/releases/download/v0.13.5/ollama-linux-arm64.tgz\n\n# \u52A0\u901F\u4E0B\u8F7D npm \u5305\n\\${origin}/proxy/?url=https://registry.npmjs.org/package/-/package-1.0.0.tgz\n\n# \u52A0\u901F\u4E0B\u8F7D\u4EFB\u610F HTTPS \u6587\u4EF6\n\\${origin}/proxy/?url=https://example.com/file.zip</code>\n                  </div>\n                  <div style=\"margin-top: 15px; padding: 15px; background: var(--bg-elevated); border-radius: 6px; border-left: 3px solid var(--success);\">\n                      <strong style=\"color: var(--success);\">\u529F\u80FD\u7279\u6027\uFF1A</strong>\n                      <ul style=\"margin-top: 10px; padding-left: 20px; color: var(--text-secondary);\">\n                          <li>\u652F\u6301\u65AD\u70B9\u7EED\u4F20\uFF08Range \u8BF7\u6C42\uFF09</li>\n                          <li>\u65E0\u6587\u4EF6\u5927\u5C0F\u9650\u5236</li>\n                          <li>\u81EA\u52A8\u8DDF\u968F\u91CD\u5B9A\u5411</li>\n                          <li>\u4FDD\u7559\u539F\u59CB\u6587\u4EF6\u540D</li>\n                      </ul>\n                  </div>\n              </div>\n          </div>\n      </div>\n\n      <div class=\"card\">\n          <div class=\"card-title\">CORS \u652F\u6301</div>\n          <p style=\"color: var(--text-secondary); line-height: 1.8;\">\n              \u6240\u6709 API \u63A5\u53E3\u5747\u652F\u6301\u8DE8\u57DF\u8BBF\u95EE\uFF08CORS\uFF09\uFF0C\u5141\u8BB8\u4ECE\u4EFB\u4F55\u57DF\u540D\u8C03\u7528\u3002\u54CD\u5E94\u5934\u5305\u542B\uFF1A\n          </p>\n          <div class=\"code-block\">\n              <code>Access-Control-Allow-Origin: *\nAccess-Control-Allow-Methods: GET, POST, DELETE, OPTIONS\nAccess-Control-Allow-Headers: Content-Type, X-Admin-Key</code>\n          </div>\n      </div>\n\n      <div class=\"card\">\n          <div class=\"card-title\">AI \u667A\u80FD\u5206\u6790 <span class=\"badge\">Cloudflare Workers AI</span></div>\n          <p style=\"color: var(--text-secondary); margin-bottom: 20px; line-height: 1.8;\">\n              \u57FA\u4E8E Cloudflare Workers AI\uFF08Meta Llama 3 8B \u6A21\u578B\uFF09\u63D0\u4F9B\u667A\u80FD\u6587\u672C\u5206\u6790\u529F\u80FD\u3002\n              \u90AE\u4EF6\u63A5\u6536\u65F6\u81EA\u52A8\u8FDB\u884C AI \u5206\u6790\uFF0C\u4E5F\u53EF\u901A\u8FC7 API \u624B\u52A8\u8C03\u7528\u3002\n          </p>\n          \n          <div class=\"endpoint\">\n              <span class=\"endpoint-method method-post\">POST</span>\n              <span class=\"endpoint-path\">/api/ai/translate</span>\n              <div class=\"endpoint-desc\">\n                  \u7FFB\u8BD1\u6587\u672C\u5185\u5BB9\uFF0C\u652F\u6301\u591A\u8BED\u8A00\u4E92\u8BD1\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u8BF7\u6C42\u53C2\u6570</div>\n                      <code>{\n  \"text\": \"\u8981\u7FFB\u8BD1\u7684\u6587\u672C\u5185\u5BB9\",\n  \"targetLang\": \"\u76EE\u6807\u8BED\u8A00\u4EE3\u7801\"\n}\n\n\u652F\u6301\u7684\u8BED\u8A00\u4EE3\u7801\uFF1A\n  zh - \u4E2D\u6587    en - \u82F1\u6587    ja - \u65E5\u6587\n  ko - \u97E9\u6587    fr - \u6CD5\u6587    de - \u5FB7\u6587\n  es - \u897F\u73ED\u7259\u6587    ru - \u4FC4\u6587</code>\n                  </div>\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u8BF7\u6C42\u793A\u4F8B</div>\n                      <code>curl -X POST ${origin}/api/ai/translate \\\\\n  -H \"Content-Type: application/json\" \\\\\n  -d '{\"text\": \"Hello, World!\", \"targetLang\": \"zh\"}'</code>\n                  </div>\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u54CD\u5E94\u683C\u5F0F</div>\n                      <code>{\n  \"success\": true,\n  \"translation\": \"\u4F60\u597D\uFF0C\u4E16\u754C\uFF01\",\n  \"targetLang\": \"zh\"\n}</code>\n                  </div>\n              </div>\n          </div>\n\n          <div class=\"endpoint\">\n              <span class=\"endpoint-method method-post\">POST</span>\n              <span class=\"endpoint-path\">/api/ai/summarize</span>\n              <div class=\"endpoint-desc\">\n                  \u751F\u6210\u6587\u672C\u6458\u8981\uFF0C\u8FD4\u56DE\u4E2D\u82F1\u53CC\u8BED\u6458\u8981\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u8BF7\u6C42\u53C2\u6570</div>\n                      <code>{\n  \"text\": \"\u90AE\u4EF6\u6216\u6587\u7AE0\u6B63\u6587\u5185\u5BB9\",\n  \"subject\": \"\u6807\u9898\uFF08\u53EF\u9009\uFF0C\u7528\u4E8E\u8F85\u52A9\u7406\u89E3\uFF09\"\n}</code>\n                  </div>\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u8BF7\u6C42\u793A\u4F8B</div>\n                      <code>curl -X POST ${origin}/api/ai/summarize \\\\\n  -H \"Content-Type: application/json\" \\\\\n  -d '{\"text\": \"\u60A8\u7684\u8BA2\u5355\u5DF2\u53D1\u8D27...\", \"subject\": \"\u8BA2\u5355\u901A\u77E5\"}'</code>\n                  </div>\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u54CD\u5E94\u683C\u5F0F</div>\n                      <code>{\n  \"success\": true,\n  \"summary\": \"\u8BA2\u5355\u5DF2\u53D1\u8D27\uFF0C\u9884\u8BA13\u5929\u9001\u8FBE | Order shipped, expected in 3 days\"\n}</code>\n                  </div>\n              </div>\n          </div>\n\n          <div class=\"endpoint\">\n              <span class=\"endpoint-method method-post\">POST</span>\n              <span class=\"endpoint-path\">/api/ai/extract-code</span>\n              <div class=\"endpoint-desc\">\n                  \u4ECE\u6587\u672C\u4E2D\u667A\u80FD\u63D0\u53D6\u9A8C\u8BC1\u7801\uFF084-8\u4F4D\u6570\u5B57\u6216\u5B57\u6BCD\u7EC4\u5408\uFF09\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u8BF7\u6C42\u53C2\u6570</div>\n                      <code>{\n  \"text\": \"\u90AE\u4EF6\u6B63\u6587\u5185\u5BB9\",\n  \"subject\": \"\u90AE\u4EF6\u4E3B\u9898\uFF08\u53EF\u9009\uFF09\"\n}</code>\n                  </div>\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u8BF7\u6C42\u793A\u4F8B</div>\n                      <code>curl -X POST ${origin}/api/ai/extract-code \\\\\n  -H \"Content-Type: application/json\" \\\\\n  -d '{\"text\": \"\u60A8\u7684\u9A8C\u8BC1\u7801\u662F 123456\uFF0C10\u5206\u949F\u5185\u6709\u6548\", \"subject\": \"\u9A8C\u8BC1\u90AE\u4EF6\"}'</code>\n                  </div>\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u54CD\u5E94\u683C\u5F0F</div>\n                      <code>{\n  \"success\": true,\n  \"code\": \"123456\"\n}\n\n// \u5982\u679C\u672A\u627E\u5230\u9A8C\u8BC1\u7801\n{\n  \"success\": true,\n  \"code\": null\n}</code>\n                  </div>\n              </div>\n          </div>\n\n          <div class=\"endpoint\">\n              <span class=\"endpoint-method method-post\">POST</span>\n              <span class=\"endpoint-path\">/api/ai/check-url</span>\n              <div class=\"endpoint-desc\">\n                  \u68C0\u6D4B URL \u5B89\u5168\u6027\uFF0C\u8BC6\u522B\u9493\u9C7C\u3001\u6076\u610F\u94FE\u63A5\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u8BF7\u6C42\u53C2\u6570</div>\n                      <code>{\n  \"url\": \"\u8981\u68C0\u6D4B\u7684 URL \u5730\u5740\"\n}</code>\n                  </div>\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u8BF7\u6C42\u793A\u4F8B</div>\n                      <code>curl -X POST ${origin}/api/ai/check-url \\\\\n  -H \"Content-Type: application/json\" \\\\\n  -d '{\"url\": \"https://example.com/login\"}'</code>\n                  </div>\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u54CD\u5E94\u683C\u5F0F</div>\n                      <code>// \u5B89\u5168\u94FE\u63A5\n{\n  \"success\": true,\n  \"safe\": true,\n  \"reason\": \"\u672A\u53D1\u73B0\u53EF\u7591\u7279\u5F81\"\n}\n\n// \u53EF\u7591\u94FE\u63A5\n{\n  \"success\": true,\n  \"safe\": false,\n  \"reason\": \"\u57DF\u540D\u4E0E\u77E5\u540D\u7F51\u7AD9\u76F8\u4F3C\uFF0C\u53EF\u80FD\u662F\u9493\u9C7C\u7F51\u7AD9\"\n}</code>\n                  </div>\n              </div>\n          </div>\n\n          <div class=\"endpoint\">\n              <span class=\"endpoint-method method-get\">GET</span>\n              <span class=\"endpoint-path\">/api/links/:code/safety</span>\n              <div class=\"endpoint-desc\">\n                  \u68C0\u6D4B\u77ED\u94FE\u63A5\u76EE\u6807 URL \u7684\u5B89\u5168\u6027\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u8BF7\u6C42\u793A\u4F8B</div>\n                      <code>curl ${origin}/api/links/abc123/safety</code>\n                  </div>\n                  <div class=\"example\">\n                      <div class=\"example-title\">\u54CD\u5E94\u683C\u5F0F</div>\n                      <code>{\n  \"success\": true,\n  \"code\": \"abc123\",\n  \"originalUrl\": \"https://example.com\",\n  \"safe\": true,\n  \"reason\": \"\u672A\u53D1\u73B0\u53EF\u7591\u7279\u5F81\"\n}</code>\n                  </div>\n              </div>\n          </div>\n\n          <div style=\"margin-top: 20px; padding: 20px; background: var(--bg-elevated); border-radius: 8px; border-left: 3px solid var(--secondary);\">\n              <strong style=\"color: var(--secondary);\">AI \u529F\u80FD\u8BF4\u660E</strong>\n              <div style=\"display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-top: 15px;\">\n                  <div>\n                      <p style=\"color: var(--text-primary); font-weight: 500; margin-bottom: 5px;\">\u6A21\u578B</p>\n                      <p style=\"color: var(--text-secondary); font-size: 14px;\">Meta Llama 3 8B Instruct</p>\n                  </div>\n                  <div>\n                      <p style=\"color: var(--text-primary); font-weight: 500; margin-bottom: 5px;\">\u81EA\u52A8\u5206\u6790</p>\n                      <p style=\"color: var(--text-secondary); font-size: 14px;\">\u6536\u5230\u90AE\u4EF6\u65F6\u81EA\u52A8\u63D0\u53D6\u9A8C\u8BC1\u7801\u3001\u751F\u6210\u6458\u8981\u3001\u68C0\u6D4B\u5783\u573E\u90AE\u4EF6</p>\n                  </div>\n                  <div>\n                      <p style=\"color: var(--text-primary); font-weight: 500; margin-bottom: 5px;\">\u591A\u8BED\u8A00\u652F\u6301</p>\n                      <p style=\"color: var(--text-secondary); font-size: 14px;\">\u4E2D\u3001\u82F1\u3001\u65E5\u3001\u97E9\u3001\u6CD5\u3001\u5FB7\u3001\u897F\u3001\u4FC4</p>\n                  </div>\n                  <div>\n                      <p style=\"color: var(--text-primary); font-weight: 500; margin-bottom: 5px;\">\u5907\u7528\u670D\u52A1</p>\n                      <p style=\"color: var(--text-secondary); font-size: 14px;\">Workers AI \u4E0D\u53EF\u7528\u65F6\u81EA\u52A8\u5207\u6362 ModelScope</p>\n                  </div>\n              </div>\n          </div>\n\n          <div style=\"margin-top: 15px; padding: 15px; background: var(--bg-elevated); border-radius: 6px; border-left: 3px solid var(--warning);\">\n              <strong style=\"color: var(--warning);\">\u9519\u8BEF\u54CD\u5E94</strong>\n              <div class=\"code-block\" style=\"margin-top: 10px; margin-bottom: 0;\">\n                  <code>// \u53C2\u6570\u7F3A\u5931\n{ \"success\": false, \"error\": \"\u7F3A\u5C11 text \u53C2\u6570\" }\n\n// AI \u670D\u52A1\u4E0D\u53EF\u7528\n{ \"success\": false, \"error\": \"AI \u670D\u52A1\u4E0D\u53EF\u7528\" }\n\n// \u670D\u52A1\u5668\u9519\u8BEF\n{ \"success\": false, \"error\": \"\u9519\u8BEF\u4FE1\u606F\" }</code>\n              </div>\n          </div>\n      </div>\n\n      <div class=\"card\" style=\"background: linear-gradient(135deg, var(--bg-card) 0%, var(--bg-elevated) 100%); border: 2px solid var(--primary);\">\n          <div class=\"card-title\" style=\"font-size: 20px;\">\u5173\u4E8E\u516C\u76CA\u5E73\u53F0</div>\n          <p style=\"color: var(--text-secondary); line-height: 1.8; margin-bottom: 15px;\">\n              \u6211\u4EEC\u662F\u4E00\u4E2A\u975E\u76C8\u5229\u7684\u516C\u76CA\u9879\u76EE\uFF0C\u81F4\u529B\u4E8E\u4E3A\u5F00\u53D1\u8005\u793E\u533A\u63D0\u4F9B\u514D\u8D39\u3001\u53EF\u9760\u7684\u670D\u52A1\u3002\n              \u6240\u6709\u670D\u52A1\u5747\u514D\u8D39\u63D0\u4F9B\uFF0C\u65E0\u4EFB\u4F55\u5546\u4E1A\u76EE\u7684\u3002\n          </p>\n          <div style=\"display: flex; gap: 20px; flex-wrap: wrap; margin-top: 20px;\">\n              <div style=\"flex: 1; min-width: 200px;\">\n                  <p style=\"color: var(--primary); font-weight: 600; margin-bottom: 8px;\">\u670D\u52A1\u7406\u5FF5</p>\n                  <p style=\"color: var(--text-secondary); font-size: 14px; line-height: 1.6;\">\n                      \u514D\u8D39\u3001\u5F00\u653E\u3001\u900F\u660E\uFF0C\u4E3A\u5F00\u53D1\u8005\u63D0\u4F9B\u6700\u4FBF\u6377\u7684\u5DE5\u5177\n                  </p>\n              </div>\n              <div style=\"flex: 1; min-width: 200px;\">\n                  <p style=\"color: var(--primary); font-weight: 600; margin-bottom: 8px;\">\u9690\u79C1\u4FDD\u62A4</p>\n                  <p style=\"color: var(--text-secondary); font-size: 14px; line-height: 1.6;\">\n                      \u6240\u6709\u6570\u636E\u81EA\u52A8\u6E05\u7406\uFF0C\u4E0D\u5B58\u50A8\u4EFB\u4F55\u4E2A\u4EBA\u4FE1\u606F\n                  </p>\n              </div>\n          </div>\n      </div>\n\n      <div class=\"footer\">\n          <p>Powered by <span class=\"highlight\">VioletTeam</span></p>\n          <p style=\"margin-top: 10px; font-size: 14px;\">\u516C\u76CA\u5E73\u53F0 - \u514D\u8D39\u516C\u76CA\u670D\u52A1 | \u8BA9\u5F00\u53D1\u66F4\u7B80\u5355</p>\n          <div style=\"margin-top: 15px; display: flex; gap: 20px; justify-content: center; flex-wrap: wrap;\">\n              <a href=\"https://free.violetteam.cloud\" style=\"color: var(--text-secondary);\">\u4E3B\u9875</a>\n              <a href=\"https://free.violetteam.cloud/terms.html\" style=\"color: var(--text-secondary);\">\u670D\u52A1\u6761\u6B3E</a>\n              <a href=\"https://github.com/violettoolssite/loveFreeTools\" target=\"_blank\" style=\"color: var(--text-secondary);\">GitHub</a>\n              <a href=\"mailto:chf@yljdteam.com\" style=\"color: var(--text-secondary);\">\u8054\u7CFB\u6211\u4EEC</a>\n          </div>\n          <p style=\"margin-top: 15px; font-size: 12px; color: var(--text-muted);\">\n              \u672C\u5E73\u53F0\u6240\u6709\u670D\u52A1\u5B8C\u5168\u514D\u8D39\uFF0C\u6B22\u8FCE\u4F7F\u7528\u548C\u53CD\u9988\n          </p>\n      </div>\n  </div>\n</body>\n</html>`;\n}\n\n/**\n * \u5904\u7406 HTTP \u8BF7\u6C42\n */\nasync function handleRequest(request, env) {\n  const url = new URL(request.url);\n  const apiBase = getApiBase(env);\n  \n  // CORS \u5934\n  const corsHeaders = {\n    'Access-Control-Allow-Origin': '*',\n    'Access-Control-Allow-Methods': 'GET, POST, DELETE, OPTIONS',\n    'Access-Control-Allow-Headers': 'Content-Type, X-Admin-Key',\n  };\n  \n  // \u5904\u7406 OPTIONS \u8BF7\u6C42\n  if (request.method === 'OPTIONS') {\n    return new Response(null, { headers: corsHeaders });\n  }\n\n  // \u8F85\u52A9\u51FD\u6570\uFF1A\u8FD4\u56DE JSON \u54CD\u5E94\n  const jsonResponse = (data, status = 200) => {\n    return new Response(JSON.stringify(data), {\n      status,\n      headers: { ...corsHeaders, 'Content-Type': 'application/json' }\n    });\n  };\n\n  // ==================== \u5B50\u57DF\u540D\u91CD\u5B9A\u5411 ====================\n  \n  // \u68C0\u67E5\u662F\u5426\u4E3A yljdteam.com \u7684\u5B50\u57DF\u540D\u8BF7\u6C42\n  const host = url.hostname;\n  const subdomainMatch = host.match(/^([a-z0-9][a-z0-9-]*[a-z0-9]?)\\.yljdteam\\.com$/i);\n  \n  if (subdomainMatch) {\n    const subdomain = subdomainMatch[1].toLowerCase();\n    \n    // \u6392\u9664\u4E3B\u57DF\u540D\u548C www\n    if (subdomain !== 'www' && subdomain !== 'yljdteam') {\n      try {\n        const redirectResp = await fetch(`${apiBase}/api/subdomains/${subdomain}/redirect`);\n        const redirectData = await redirectResp.json();\n        \n        if (redirectData.success && redirectData.targetUrl) {\n          // 302 \u4E34\u65F6\u91CD\u5B9A\u5411\n          return new Response(null, {\n            status: 302,\n            headers: {\n              ...corsHeaders,\n              'Location': redirectData.targetUrl\n            }\n          });\n        } else {\n          // \u5B50\u57DF\u540D\u4E0D\u5B58\u5728\u6216\u5DF2\u8FC7\u671F\uFF0C\u663E\u793A\u9519\u8BEF\u9875\u9762\n          return new Response(getSubdomainErrorHTML(subdomain, redirectData.error), {\n            status: 404,\n            headers: { ...corsHeaders, 'Content-Type': 'text/html; charset=utf-8' }\n          });\n        }\n      } catch (error) {\n        console.error(`\u5B50\u57DF\u540D\u91CD\u5B9A\u5411\u5931\u8D25: ${subdomain}`, error);\n        return new Response(getSubdomainErrorHTML(subdomain, '\u670D\u52A1\u6682\u65F6\u4E0D\u53EF\u7528'), {\n          status: 503,\n          headers: { ...corsHeaders, 'Content-Type': 'text/html; charset=utf-8' }\n        });\n      }\n    }\n  }\n\n  // ==================== AI API \u7AEF\u70B9 ====================\n  \n  // AI \u7FFB\u8BD1\u63A5\u53E3\n  if (url.pathname === '/api/ai/translate' && request.method === 'POST') {\n    try {\n      const body = await request.json();\n      const { text, targetLang = 'zh' } = body;\n      \n      if (!text) {\n        return jsonResponse({ success: false, error: '\u7F3A\u5C11 text \u53C2\u6570' }, 400);\n      }\n      \n      const result = await AIService.translate(env, text, targetLang);\n      if (result) {\n        return jsonResponse({ success: true, translation: result, targetLang });\n      } else {\n        return jsonResponse({ success: false, error: 'AI \u670D\u52A1\u4E0D\u53EF\u7528' }, 503);\n      }\n    } catch (error) {\n      return jsonResponse({ success: false, error: error.message }, 500);\n    }\n  }\n  \n  // AI \u6458\u8981\u63A5\u53E3\n  if (url.pathname === '/api/ai/summarize' && request.method === 'POST') {\n    try {\n      const body = await request.json();\n      const { text, subject = '' } = body;\n      \n      if (!text) {\n        return jsonResponse({ success: false, error: '\u7F3A\u5C11 text \u53C2\u6570' }, 400);\n      }\n      \n      const result = await AIService.generateSummary(env, text, subject);\n      if (result) {\n        return jsonResponse({ success: true, summary: result });\n      } else {\n        return jsonResponse({ success: false, error: 'AI \u670D\u52A1\u4E0D\u53EF\u7528' }, 503);\n      }\n    } catch (error) {\n      return jsonResponse({ success: false, error: error.message }, 500);\n    }\n  }\n  \n  // AI \u9A8C\u8BC1\u7801\u63D0\u53D6\u63A5\u53E3\n  if (url.pathname === '/api/ai/extract-code' && request.method === 'POST') {\n    try {\n      const body = await request.json();\n      const { text, subject = '' } = body;\n      \n      if (!text) {\n        return jsonResponse({ success: false, error: '\u7F3A\u5C11 text \u53C2\u6570' }, 400);\n      }\n      \n      const result = await AIService.extractVerificationCode(env, text, subject);\n      return jsonResponse({ success: true, code: result });\n    } catch (error) {\n      return jsonResponse({ success: false, error: error.message }, 500);\n    }\n  }\n  \n  // AI URL \u5B89\u5168\u68C0\u6D4B\u63A5\u53E3\n  if (url.pathname === '/api/ai/check-url' && request.method === 'POST') {\n    try {\n      const body = await request.json();\n      const { url: targetUrl } = body;\n      \n      if (!targetUrl) {\n        return jsonResponse({ success: false, error: '\u7F3A\u5C11 url \u53C2\u6570' }, 400);\n      }\n      \n      const result = await AIService.checkUrlSafety(env, targetUrl);\n      return jsonResponse({ success: true, ...result });\n    } catch (error) {\n      return jsonResponse({ success: false, error: error.message }, 500);\n    }\n  }\n  \n  // \u77ED\u94FE\u63A5\u5B89\u5168\u68C0\u6D4B\uFF08\u96C6\u6210\u5230\u73B0\u6709\u77ED\u94FE\u63A5 API\uFF09\n  if (url.pathname.match(/^\\/api\\/links\\/[^/]+\\/safety$/) && request.method === 'GET') {\n    try {\n      const code = url.pathname.split('/')[3];\n      // \u5148\u83B7\u53D6\u77ED\u94FE\u63A5\u4FE1\u606F\n      const linkResponse = await fetch(`${apiBase}/api/links/${code}`);\n      const linkData = await linkResponse.json();\n      \n      if (!linkData.success) {\n        return jsonResponse({ success: false, error: '\u77ED\u94FE\u63A5\u4E0D\u5B58\u5728' }, 404);\n      }\n      \n      // \u68C0\u6D4B URL \u5B89\u5168\u6027\n      const safetyResult = await AIService.checkUrlSafety(env, linkData.url);\n      return jsonResponse({\n        success: true,\n        code,\n        url: linkData.url,\n        ...safetyResult\n      });\n    } catch (error) {\n      return jsonResponse({ success: false, error: error.message }, 500);\n    }\n  }\n\n  // ==================== API \u8DEF\u7531\u4EE3\u7406\u5230 MySQL \u540E\u7AEF ====================\n  \n  if (url.pathname.startsWith('/api/')) {\n    try {\n      // \u590D\u5236\u8BF7\u6C42\u5934\n      const headers = new Headers(request.headers);\n      headers.delete('host');\n      \n      // \u8F6C\u53D1\u8BF7\u6C42\u5230 MySQL API\n      const targetUrl = `${apiBase}${url.pathname}${url.search}`;\n      const response = await fetch(targetUrl, {\n        method: request.method,\n        headers: headers,\n        body: request.method !== 'GET' && request.method !== 'HEAD' ? request.body : null\n      });\n      \n      // \u590D\u5236\u54CD\u5E94\n      const responseHeaders = new Headers(response.headers);\n      Object.keys(corsHeaders).forEach(key => {\n        responseHeaders.set(key, corsHeaders[key]);\n      });\n      \n      return new Response(response.body, {\n        status: response.status,\n        statusText: response.statusText,\n        headers: responseHeaders\n      });\n    } catch (error) {\n      return jsonResponse({ \n        success: false, \n        error: 'API \u4EE3\u7406\u5931\u8D25', \n        message: error.message \n      }, 502);\n    }\n  }\n  \n  // ==================== GitHub \u4EE3\u7406 ====================\n  // \u683C\u5F0F: https://\u57DF\u540D/user/repo.git \u6216 https://\u57DF\u540D/user/repo/...\n  // \u4EE3\u7406\u5230: https://github.com/user/repo.git \u6216 https://github.com/user/repo/...\n  \n  // \u6839\u8DEF\u5F84\u8FD4\u56DE HTML API \u6587\u6863\u9875\u9762\n  if (url.pathname === '/') {\n    return new Response(getApiDocumentationHTML(url.origin), {\n      headers: {\n        'Content-Type': 'text/html; charset=utf-8',\n        'Access-Control-Allow-Origin': '*'\n      }\n    });\n  }\n\n  // \u6587\u4EF6\u52A0\u901F\u4EE3\u7406\n  if (url.pathname === '/proxy/' || url.pathname === '/proxy') {\n    const targetUrl = url.searchParams.get('url');\n    if (!targetUrl) {\n      return jsonResponse({\n        error: '\u7F3A\u5C11 url \u53C2\u6570',\n        usage: url.origin + '/proxy/?url=https://example.com/file.zip'\n      }, 400);\n    }\n    return handleFileProxy(targetUrl, request);\n  }\n\n  // \u77ED\u94FE\u63A5\u8DF3\u8F6C\n  if (url.pathname.startsWith('/s/')) {\n    const code = url.pathname.slice(3);\n    if (code) {\n      return handleShortLinkRedirect(code, url.origin, env);\n    }\n  }\n\n  // \u6392\u9664 API \u8DEF\u5F84\u3001\u6587\u4EF6\u4EE3\u7406\u8DEF\u5F84\u3001\u77ED\u94FE\u63A5\u8DEF\u5F84\uFF0C\u5176\u4ED6\u8DEF\u5F84\u4EE3\u7406\u5230 GitHub\n  if (!url.pathname.startsWith('/api/') && !url.pathname.startsWith('/proxy') && !url.pathname.startsWith('/s/') && url.pathname.length > 1) {\n    return handleGitHubProxy(request, url);\n  }\n\n  // \u9ED8\u8BA4\u54CD\u5E94\n  return jsonResponse({\n    service: '\u516C\u76CA\u5E73\u53F0 - \u514D\u8D39\u516C\u76CA\u670D\u52A1',\n    status: 'running',\n    backend: 'MySQL',\n    features: ['\u4E34\u65F6\u90AE\u7BB1', 'GitHub \u4EE3\u7406', '\u6587\u4EF6\u52A0\u901F\u4E0B\u8F7D', '\u77ED\u94FE\u63A5'],\n    endpoints: [\n      'GET /api/domains',\n      'POST /api/domains',\n      'DELETE /api/domains/:name',\n      'GET /api/emails/:email',\n      'POST /api/emails',\n      'DELETE /api/emails/:email/:id',\n      'POST /api/send-email',\n      'POST /api/links - \u521B\u5EFA\u77ED\u94FE\u63A5',\n      'GET /api/links/:code - \u83B7\u53D6\u77ED\u94FE\u63A5\u4FE1\u606F',\n      'GET /s/:code - \u77ED\u94FE\u63A5\u8DF3\u8F6C',\n      'GET /{user}/{repo}[.git] - GitHub \u4EE3\u7406',\n      'GET /proxy/?url={\u6587\u4EF6URL} - \u6587\u4EF6\u52A0\u901F\u4E0B\u8F7D'\n    ]\n  });\n}\n\n// ==================== GitHub \u4EE3\u7406\u9632\u62A4\u914D\u7F6E ====================\nconst GITHUB_PROXY_CONFIG = {\n  // \u9891\u7387\u9650\u5236\uFF1A\u6BCF IP \u6BCF\u5206\u949F\u6700\u5927\u8BF7\u6C42\u6570\n  rateLimit: 60,\n  rateLimitWindow: 60, // \u79D2\n  \n  // User-Agent \u767D\u540D\u5355\uFF08\u5141\u8BB8\u7684\u5BA2\u6237\u7AEF\uFF09\n  allowedUserAgents: [\n    'git/',           // Git \u5BA2\u6237\u7AEF\n    'curl/',          // curl\n    'wget/',          // wget\n    'libcurl/',       // libcurl\n    'Go-http-client', // Go HTTP \u5BA2\u6237\u7AEF\n    'python-requests',// Python requests\n    'axios/',         // Axios\n    'node-fetch',     // Node fetch\n    'Mozilla/',       // \u6D4F\u89C8\u5668\uFF08\u7528\u4E8E\u67E5\u770B\u4ED3\u5E93\u9875\u9762\uFF09\n  ],\n  \n  // \u8DEF\u5F84\u9ED1\u540D\u5355\uFF08\u7981\u6B62\u4EE3\u7406\u7684\u8DEF\u5F84\uFF09\n  blockedPaths: [\n    '/login',\n    '/logout', \n    '/signup',\n    '/join',\n    '/sessions',\n    '/settings',\n    '/password_reset',\n    '/users/',\n    '/orgs/',\n    '/.git/config',   // \u9632\u6B62\u6CC4\u9732\u914D\u7F6E\n  ],\n  \n  // \u7981\u6B62\u7684\u6587\u4EF6\u6269\u5C55\u540D\uFF08\u9632\u6B62\u6EE5\u7528\u4E0B\u8F7D\u5927\u6587\u4EF6\uFF09\n  blockedExtensions: [\n    '.zip',\n    '.tar.gz',\n    '.tgz',\n    '.exe',\n    '.dmg',\n    '.pkg',\n    '.deb',\n    '.rpm',\n    '.msi',\n    '.iso',\n  ],\n};\n\n// \u7B80\u5355\u7684\u5185\u5B58\u9891\u7387\u9650\u5236\uFF08Worker \u91CD\u542F\u4F1A\u6E05\u7A7A\uFF0C\u4F46\u8DB3\u591F\u7528\uFF09\nconst rateLimitMap = new Map();\n\n/**\n * \u68C0\u67E5\u9891\u7387\u9650\u5236\n */\nfunction checkRateLimit(ip) {\n  const now = Math.floor(Date.now() / 1000);\n  const windowStart = now - GITHUB_PROXY_CONFIG.rateLimitWindow;\n  \n  let data = rateLimitMap.get(ip);\n  \n  if (!data) {\n    data = { timestamps: [] };\n  }\n  \n  // \u6E05\u7406\u8FC7\u671F\u7684\u65F6\u95F4\u6233\n  data.timestamps = data.timestamps.filter(t => t > windowStart);\n  \n  // \u68C0\u67E5\u662F\u5426\u8D85\u8FC7\u9650\u5236\n  if (data.timestamps.length >= GITHUB_PROXY_CONFIG.rateLimit) {\n    return false; // \u8D85\u8FC7\u9650\u5236\n  }\n  \n  // \u6DFB\u52A0\u65B0\u7684\u65F6\u95F4\u6233\n  data.timestamps.push(now);\n  rateLimitMap.set(ip, data);\n  \n  // \u5B9A\u671F\u6E05\u7406\u8FC7\u671F\u8BB0\u5F55\uFF08\u907F\u514D\u5185\u5B58\u6CC4\u6F0F\uFF09\n  if (rateLimitMap.size > 10000) {\n    const keysToDelete = [];\n    rateLimitMap.forEach((value, key) => {\n      if (value.timestamps.length === 0 || value.timestamps[value.timestamps.length - 1] < windowStart) {\n        keysToDelete.push(key);\n      }\n    });\n    keysToDelete.forEach(key => rateLimitMap.delete(key));\n  }\n  \n  return true; // \u5141\u8BB8\u8BF7\u6C42\n}\n\n/**\n * \u68C0\u67E5 User-Agent \u662F\u5426\u5728\u767D\u540D\u5355\u4E2D\n */\nfunction isAllowedUserAgent(userAgent) {\n  if (!userAgent) return false;\n  return GITHUB_PROXY_CONFIG.allowedUserAgents.some(ua => \n    userAgent.toLowerCase().includes(ua.toLowerCase())\n  );\n}\n\n/**\n * \u68C0\u67E5\u8DEF\u5F84\u662F\u5426\u88AB\u7981\u6B62\n */\nfunction isBlockedPath(pathname) {\n  const lowerPath = pathname.toLowerCase();\n  \n  // \u68C0\u67E5\u8DEF\u5F84\u9ED1\u540D\u5355\n  if (GITHUB_PROXY_CONFIG.blockedPaths.some(p => lowerPath.includes(p.toLowerCase()))) {\n    return true;\n  }\n  \n  // \u68C0\u67E5\u6587\u4EF6\u6269\u5C55\u540D\u9ED1\u540D\u5355\n  if (GITHUB_PROXY_CONFIG.blockedExtensions.some(ext => lowerPath.endsWith(ext.toLowerCase()))) {\n    return true;\n  }\n  \n  return false;\n}\n\n/**\n * \u83B7\u53D6\u5BA2\u6237\u7AEF IP\n */\nfunction getClientIP(request) {\n  return request.headers.get('CF-Connecting-IP') || \n         request.headers.get('X-Real-IP') || \n         request.headers.get('X-Forwarded-For')?.split(',')[0]?.trim() ||\n         '0.0.0.0';\n}\n\n// ==================== \u6587\u4EF6\u52A0\u901F\u4EE3\u7406 ====================\nconst FILE_PROXY_CONFIG = {\n  allowedProtocols: ['https:', 'http:'],\n  blockedDomains: ['localhost', '127.0.0.1', '0.0.0.0', '::1'],\n  timeout: 300000 // 5\u5206\u949F\u8D85\u65F6\n};\n\nasync function handleFileProxy(targetUrl, request) {\n  const corsHeaders = {\n    'Access-Control-Allow-Origin': '*',\n    'Content-Type': 'application/json'\n  };\n  \n  const errorResponse = (message, status) => {\n    return new Response(JSON.stringify({ error: message }), {\n      status,\n      headers: corsHeaders\n    });\n  };\n  \n  try {\n    // URL \u9A8C\u8BC1\n    let parsedUrl;\n    try {\n      parsedUrl = new URL(targetUrl);\n    } catch {\n      return errorResponse('\u65E0\u6548\u7684 URL', 400);\n    }\n    \n    // \u534F\u8BAE\u68C0\u67E5\n    if (!FILE_PROXY_CONFIG.allowedProtocols.includes(parsedUrl.protocol)) {\n      return errorResponse('\u4EC5\u652F\u6301 HTTP/HTTPS \u534F\u8BAE', 400);\n    }\n    \n    // \u57DF\u540D\u68C0\u67E5\n    if (FILE_PROXY_CONFIG.blockedDomains.some(d => parsedUrl.hostname.includes(d))) {\n      return errorResponse('\u7981\u6B62\u8BBF\u95EE\u7684\u57DF\u540D', 403);\n    }\n    \n    // \u4EE3\u7406\u8BF7\u6C42\n    const headers = new Headers();\n    headers.set('User-Agent', request.headers.get('User-Agent') || 'Mozilla/5.0');\n    \n    // \u652F\u6301 Range \u8BF7\u6C42\uFF08\u65AD\u70B9\u7EED\u4F20\uFF09\n    const range = request.headers.get('Range');\n    if (range) {\n      headers.set('Range', range);\n    }\n    \n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), FILE_PROXY_CONFIG.timeout);\n    \n    const response = await fetch(targetUrl, {\n      method: 'GET',\n      headers: headers,\n      redirect: 'follow',\n      signal: controller.signal\n    });\n    \n    clearTimeout(timeoutId);\n    \n    // \u6784\u5EFA\u54CD\u5E94\u5934\n    const responseHeaders = new Headers();\n    responseHeaders.set('Access-Control-Allow-Origin', '*');\n    responseHeaders.set('Access-Control-Expose-Headers', '*');\n    \n    // \u4F20\u9012\u91CD\u8981\u7684\u54CD\u5E94\u5934\n    const headersToPass = ['Content-Type', 'Content-Length', 'Content-Disposition', 'Accept-Ranges', 'Content-Range', 'ETag', 'Last-Modified'];\n    headersToPass.forEach(h => {\n      const value = response.headers.get(h);\n      if (value) responseHeaders.set(h, value);\n    });\n    \n    // \u5982\u679C\u6CA1\u6709 Content-Disposition\uFF0C\u5C1D\u8BD5\u4ECE URL \u63D0\u53D6\u6587\u4EF6\u540D\n    if (!responseHeaders.get('Content-Disposition')) {\n      const filename = parsedUrl.pathname.split('/').pop();\n      if (filename && filename.includes('.')) {\n        responseHeaders.set('Content-Disposition', 'attachment; filename=\"' + filename + '\"');\n      }\n    }\n    \n    return new Response(response.body, {\n      status: response.status,\n      headers: responseHeaders\n    });\n    \n  } catch (error) {\n    if (error.name === 'AbortError') {\n      return errorResponse('\u8BF7\u6C42\u8D85\u65F6', 504);\n    }\n    return errorResponse('\u4EE3\u7406\u8BF7\u6C42\u5931\u8D25: ' + error.message, 502);\n  }\n}\n\n/**\n * \u5904\u7406 GitHub \u4EE3\u7406\u8BF7\u6C42\n * \u5C06 https://\u57DF\u540D/user/repo \u4EE3\u7406\u5230 https://github.com/user/repo\n */\nasync function handleGitHubProxy(request, url) {\n  const clientIP = getClientIP(request);\n  const userAgent = request.headers.get('User-Agent') || '';\n  \n  // 1. \u68C0\u67E5 User-Agent \u767D\u540D\u5355\n  if (!isAllowedUserAgent(userAgent)) {\n    return new Response(JSON.stringify({ \n      error: '\u7981\u6B62\u8BBF\u95EE', \n      message: '\u4E0D\u652F\u6301\u7684\u5BA2\u6237\u7AEF\u7C7B\u578B',\n      hint: '\u8BF7\u4F7F\u7528 git/curl/wget \u7B49\u5DE5\u5177\u8BBF\u95EE'\n    }), {\n      status: 403,\n      headers: { 'Content-Type': 'application/json', 'Access-Control-Allow-Origin': '*' }\n    });\n  }\n  \n  // 2. \u68C0\u67E5\u8DEF\u5F84\u9ED1\u540D\u5355\n  if (isBlockedPath(url.pathname)) {\n    return new Response(JSON.stringify({ \n      error: '\u7981\u6B62\u8BBF\u95EE', \n      message: '\u8BE5\u8DEF\u5F84\u4E0D\u5141\u8BB8\u4EE3\u7406'\n    }), {\n      status: 403,\n      headers: { 'Content-Type': 'application/json', 'Access-Control-Allow-Origin': '*' }\n    });\n  }\n  \n  // 3. \u68C0\u67E5\u9891\u7387\u9650\u5236\n  const withinLimit = checkRateLimit(clientIP);\n  if (!withinLimit) {\n    return new Response(JSON.stringify({ \n      error: '\u8BF7\u6C42\u8FC7\u4E8E\u9891\u7E41', \n      message: `\u6BCF\u5206\u949F\u6700\u591A ${GITHUB_PROXY_CONFIG.rateLimit} \u6B21\u8BF7\u6C42`,\n      retryAfter: GITHUB_PROXY_CONFIG.rateLimitWindow\n    }), {\n      status: 429,\n      headers: { \n        'Content-Type': 'application/json', \n        'Access-Control-Allow-Origin': '*',\n        'Retry-After': String(GITHUB_PROXY_CONFIG.rateLimitWindow)\n      }\n    });\n  }\n  \n  // \u6784\u9020 GitHub URL\n  const githubUrl = `https://github.com${url.pathname}${url.search}`;\n  \n  // \u590D\u5236\u539F\u59CB\u8BF7\u6C42\u7684 headers\uFF0C\u4F46\u79FB\u9664 host\n  const headers = new Headers(request.headers);\n  headers.delete('host');\n  headers.set('User-Agent', userAgent || 'git/2.40.0');\n  \n  try {\n    const response = await fetch(githubUrl, {\n      method: request.method,\n      headers: headers,\n      body: request.method !== 'GET' && request.method !== 'HEAD' ? request.body : null,\n      redirect: 'follow'\n    });\n    \n    // \u590D\u5236\u54CD\u5E94 headers\n    const responseHeaders = new Headers(response.headers);\n    responseHeaders.set('Access-Control-Allow-Origin', '*');\n    responseHeaders.set('Access-Control-Allow-Methods', 'GET, POST, PUT, DELETE, OPTIONS');\n    responseHeaders.set('Access-Control-Allow-Headers', '*');\n    \n    // \u6DFB\u52A0\u901F\u7387\u9650\u5236\u4FE1\u606F\u5230\u54CD\u5E94\u5934\n    responseHeaders.set('X-RateLimit-Limit', String(GITHUB_PROXY_CONFIG.rateLimit));\n    responseHeaders.set('X-RateLimit-Window', `${GITHUB_PROXY_CONFIG.rateLimitWindow}s`);\n    \n    // \u5904\u7406\u91CD\u5B9A\u5411\uFF1A\u5C06 github.com \u66FF\u6362\u4E3A\u5F53\u524D\u57DF\u540D\n    const location = responseHeaders.get('Location');\n    if (location && location.includes('github.com')) {\n      const newLocation = location.replace('https://github.com', url.origin);\n      responseHeaders.set('Location', newLocation);\n    }\n    \n    return new Response(response.body, {\n      status: response.status,\n      statusText: response.statusText,\n      headers: responseHeaders\n    });\n  } catch (error) {\n    return new Response(JSON.stringify({ \n      error: 'GitHub \u4EE3\u7406\u5931\u8D25', \n      message: error.message,\n      url: githubUrl\n    }), {\n      status: 502,\n      headers: { \n        'Content-Type': 'application/json',\n        'Access-Control-Allow-Origin': '*'\n      }\n    });\n  }\n}\n\n/**\n * \u4ECE\u539F\u59CB\u90AE\u4EF6\u4E2D\u63D0\u53D6\u6587\u672C\u548C HTML \u5185\u5BB9\n */\nasync function extractEmailContent(rawEmail) {\n  let text = '';\n  let html = '';\n  \n  try {\n    const lines = rawEmail.split('\\n');\n    let inBody = false;\n    let currentContentType = '';\n    let currentEncoding = '';\n    let currentCharset = 'utf-8';\n    let contentBuffer = [];\n    \n    for (let i = 0; i < lines.length; i++) {\n      const line = lines[i].trim();\n      \n      // \u68C0\u6D4B Content-Type \u548C charset\n      if (line.match(/^Content-Type:\\s*text\\/(plain|html)/i)) {\n        const typeMatch = line.match(/text\\/(plain|html)/i);\n        currentContentType = typeMatch ? typeMatch[1].toLowerCase() : '';\n        \n        // \u63D0\u53D6 charset\n        const charsetMatch = line.match(/charset[=\\s]*[\"']?([^\"'\\s;]+)/i);\n        if (charsetMatch) {\n          currentCharset = charsetMatch[1].toLowerCase();\n        }\n        continue;\n      }\n      \n      // \u68C0\u6D4B\u7F16\u7801\u65B9\u5F0F\n      if (line.match(/^Content-Transfer-Encoding:\\s*(.+)/i)) {\n        const match = line.match(/Content-Transfer-Encoding:\\s*(.+)/i);\n        currentEncoding = match ? match[1].trim().toLowerCase() : '';\n        continue;\n      }\n      \n      // \u7A7A\u884C\u8868\u793A\u6B63\u6587\u5F00\u59CB\n      if (!inBody && line === '' && currentContentType) {\n        inBody = true;\n        continue;\n      }\n      \n      // \u8BFB\u53D6\u6B63\u6587\u5185\u5BB9\n      if (inBody) {\n        // MIME \u8FB9\u754C\u8868\u793A\u5185\u5BB9\u7ED3\u675F\n        if (line.startsWith('--')) {\n          // \u5904\u7406\u6536\u96C6\u5230\u7684\u5185\u5BB9\n          if (contentBuffer.length > 0) {\n            let content = decodeContent(contentBuffer.join('\\n'), currentEncoding, currentCharset);\n            \n            // \u6839\u636E\u7C7B\u578B\u5B58\u50A8\n            if (currentContentType === 'plain') {\n              text = content;\n            } else if (currentContentType === 'html') {\n              html = content;\n            }\n            \n            contentBuffer = [];\n          }\n          \n          inBody = false;\n          currentContentType = '';\n          currentEncoding = '';\n          currentCharset = 'utf-8';\n          continue;\n        }\n        \n        // \u8DF3\u8FC7 Content- \u5F00\u5934\u7684\u884C\n        if (line.match(/^Content-/i)) continue;\n        \n        contentBuffer.push(line);\n      }\n    }\n    \n    // \u5904\u7406\u5269\u4F59\u5185\u5BB9\n    if (contentBuffer.length > 0) {\n      let content = decodeContent(contentBuffer.join('\\n'), currentEncoding, currentCharset);\n      \n      if (currentContentType === 'plain') {\n        text = content;\n      } else if (currentContentType === 'html') {\n        html = content;\n      }\n    }\n    \n  } catch (error) {\n    console.error('Extract email content error:', error);\n  }\n  \n  return { text, html };\n}\n\n/**\n * \u89E3\u7801\u90AE\u4EF6\u5185\u5BB9\n */\nfunction decodeContent(content, encoding, charset) {\n  try {\n    charset = charset || 'utf-8';\n    \n    // \u5148\u6839\u636E Transfer-Encoding \u89E3\u7801\n    if (encoding === 'base64') {\n      // Base64 \u89E3\u7801\n      const cleaned = content.replace(/\\s/g, '');\n      const binaryString = atob(cleaned);\n      \n      // \u8F6C\u6362\u4E3A Uint8Array\n      const bytes = new Uint8Array(binaryString.length);\n      for (let i = 0; i < binaryString.length; i++) {\n        bytes[i] = binaryString.charCodeAt(i);\n      }\n      \n      // \u4F7F\u7528 TextDecoder \u89E3\u7801\n      const decoder = new TextDecoder(charset);\n      content = decoder.decode(bytes);\n      \n    } else if (encoding === 'quoted-printable') {\n      // Quoted-Printable \u89E3\u7801\uFF0C\u4F20\u5165 charset\n      content = decodeQuotedPrintable(content, charset);\n    }\n    \n    return content;\n  } catch (e) {\n    console.error('Decode content error:', e);\n    return content;\n  }\n}\n\n/**\n * \u89E3\u7801 Quoted-Printable \u7F16\u7801\n */\nfunction decodeQuotedPrintable(str, charset = 'utf-8') {\n  try {\n    // \u79FB\u9664\u8F6F\u6362\u884C\n    str = str.replace(/=\\r?\\n/g, '');\n    \n    // \u5C06 =XX \u8F6C\u6362\u4E3A\u5B57\u8282\u6570\u7EC4\n    const bytes = [];\n    let i = 0;\n    while (i < str.length) {\n      if (str[i] === '=' && i + 2 < str.length) {\n        const hex = str.substr(i + 1, 2);\n        if (/^[0-9A-F]{2}$/i.test(hex)) {\n          bytes.push(parseInt(hex, 16));\n          i += 3;\n        } else {\n          bytes.push(str.charCodeAt(i));\n          i++;\n        }\n      } else {\n        bytes.push(str.charCodeAt(i));\n        i++;\n      }\n    }\n    \n    // \u4F7F\u7528 TextDecoder \u6B63\u786E\u89E3\u7801 UTF-8\n    const uint8Array = new Uint8Array(bytes);\n    const decoder = new TextDecoder(charset);\n    return decoder.decode(uint8Array);\n  } catch (e) {\n    console.error('Decode quoted-printable error:', e);\n    return str;\n  }\n}\n"],
  "mappings": "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AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kEAuQqC,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAyDlB,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCA8BH,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kCAgBT,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAwBL,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAsBJ,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAsBR,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCA6BN,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAgBxB,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAgBrB,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAsDI,MAAM;AAAA;AAAA;AAAA,OAGX,MAAM;AAAA;AAAA;AAAA,OAGN,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAuF8B,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CA6BN,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CA4BN,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2CAiCN,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCA8Bd,MAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;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",
  "names": []
}
